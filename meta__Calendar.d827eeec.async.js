"use strict";(self.webpackChunk_trionesdev_antd_taro_react=self.webpackChunk_trionesdev_antd_taro_react||[]).push([[9148],{78196:function(a,e,n){var s;n.r(e),n.d(e,{demos:function(){return N}});var f=n(90819),r=n.n(f),I=n(89933),C=n.n(I),o=n(44194),$=n(22998),_=n(77705),d=n(95676),i=n(3837),c=n(52920),v=n(19934),D=n(92405),y=n(14410),x=n(51865),B=n.n(x),w=n(33924),b=n.n(w),M=n(39378),O=n.n(M),u=n(18097),P=n(54090),E=n(57815),T=n(50754),R=n(62276),k=n(64693),N={"calendar-demo-calendar":{component:o.memo(o.lazy(function(){return n.e(9621).then(n.bind(n,35964))})),asset:{type:"BLOCK",id:"calendar-demo-calendar",refAtomIds:["Calendar"],dependencies:{"index.tsx":{type:"FILE",value:n(90866).Z},react:{type:"NPM",value:"18.3.1"},"../index.tsx":{type:"FILE",value:n(10285).Z},"../../DemoBlock.tsx":{type:"FILE",value:n(87669).Z},"./index.scss":{type:"FILE",value:n(63498).Z},"./calendar-grid.tsx":{type:"FILE",value:n(70462).Z},"./calendar.tsx":{type:"FILE",value:n(63742).Z},"./calendar-range.tsx":{type:"FILE",value:n(27033).Z},"./touchable-calendar-grid.tsx":{type:"FILE",value:n(39227).Z},classnames:{type:"NPM",value:"2.5.1"},"@tarojs/taro":{type:"NPM",value:"4.0.9"},lodash:{type:"NPM",value:"4.17.21"},"./style.scss":{type:"FILE",value:n(61775).Z},"../utils/taro-utils.ts":{type:"FILE",value:n(21675).Z},"./calendar-header.tsx":{type:"FILE",value:n(12884).Z},"../ConfigProvider.ts":{type:"FILE",value:n(77563).Z},"./config-provider.tsx":{type:"FILE",value:n(7003).Z},"../locales/zh-CN.ts":{type:"FILE",value:n(5515).Z}},entry:"index.tsx"},context:{"../index.tsx":_,"../../DemoBlock.tsx":d,"./index.scss":i,"./calendar-grid.tsx":c,"./calendar.tsx":v,"./calendar-range.tsx":D,"./touchable-calendar-grid.tsx":y,"./style.scss":u,"../utils/taro-utils.ts":P,"./calendar-header.tsx":E,"../ConfigProvider.ts":T,"./config-provider.tsx":R,"../locales/zh-CN.ts":k,react:s||(s=n.t(o,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/index.tsx":_,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.tsx":d,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.scss":i,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar-grid.tsx":c,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar.tsx":v,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar-range.tsx":D,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/touchable-calendar-grid.tsx":y,classnames:x,"@tarojs/taro":w,lodash:M,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/style.scss":u,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/taro-utils.ts":P,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar-header.tsx":E,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/ConfigProvider/index.ts":T,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/ConfigProvider/config-provider.tsx":R,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/locales/zh-CN.ts":k},renderOpts:{compile:function(){var m=C()(r()().mark(function g(){var l,p=arguments;return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(7215).then(n.bind(n,87215));case 2:return t.abrupt("return",(l=t.sent).default.apply(l,p));case 3:case"end":return t.stop()}},g)}));function h(){return m.apply(this,arguments)}return h}()}},"calendar-demo-grid":{component:o.memo(o.lazy(function(){return n.e(9621).then(n.bind(n,24053))})),asset:{type:"BLOCK",id:"calendar-demo-grid",refAtomIds:["Calendar"],dependencies:{"index.tsx":{type:"FILE",value:n(49406).Z},react:{type:"NPM",value:"18.3.1"},"../../DemoBlock.tsx":{type:"FILE",value:n(87669).Z},"../calendar-grid.tsx":{type:"FILE",value:n(70462).Z},classnames:{type:"NPM",value:"2.5.1"},"./index.scss":{type:"FILE",value:n(63498).Z},lodash:{type:"NPM",value:"4.17.21"},"./style.scss":{type:"FILE",value:n(61775).Z}},entry:"index.tsx"},context:{"../../DemoBlock.tsx":d,"../calendar-grid.tsx":c,"./index.scss":i,"./style.scss":u,react:s||(s=n.t(o,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.tsx":d,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar-grid.tsx":c,classnames:x,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.scss":i,lodash:M,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/style.scss":u},renderOpts:{compile:function(){var m=C()(r()().mark(function g(){var l,p=arguments;return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(7215).then(n.bind(n,87215));case 2:return t.abrupt("return",(l=t.sent).default.apply(l,p));case 3:case"end":return t.stop()}},g)}));function h(){return m.apply(this,arguments)}return h}()}},"calendar-demo-touch-grid":{component:o.memo(o.lazy(function(){return n.e(9621).then(n.bind(n,38696))})),asset:{type:"BLOCK",id:"calendar-demo-touch-grid",refAtomIds:["Calendar"],dependencies:{"index.tsx":{type:"FILE",value:n(10392).Z},react:{type:"NPM",value:"18.3.1"},"../touchable-calendar-grid.tsx":{type:"FILE",value:n(39227).Z},"../../DemoBlock.tsx":{type:"FILE",value:n(87669).Z},"@tarojs/taro":{type:"NPM",value:"4.0.9"},"./index.scss":{type:"FILE",value:n(63498).Z},"../utils/taro-utils.ts":{type:"FILE",value:n(21675).Z},"../Calendar.tsx":{type:"FILE",value:n(10285).Z},"./calendar-range.tsx":{type:"FILE",value:n(27033).Z},"./calendar.tsx":{type:"FILE",value:n(63742).Z},"./calendar-grid.tsx":{type:"FILE",value:n(70462).Z},classnames:{type:"NPM",value:"2.5.1"},lodash:{type:"NPM",value:"4.17.21"},"./style.scss":{type:"FILE",value:n(61775).Z},"./calendar-header.tsx":{type:"FILE",value:n(12884).Z},"../ConfigProvider.ts":{type:"FILE",value:n(77563).Z},"./config-provider.tsx":{type:"FILE",value:n(7003).Z},"../locales/zh-CN.ts":{type:"FILE",value:n(5515).Z}},entry:"index.tsx"},context:{"../touchable-calendar-grid.tsx":y,"../../DemoBlock.tsx":d,"./index.scss":i,"../utils/taro-utils.ts":P,"../Calendar.tsx":_,"./calendar-range.tsx":D,"./calendar.tsx":v,"./calendar-grid.tsx":c,"./style.scss":u,"./calendar-header.tsx":E,"../ConfigProvider.ts":T,"./config-provider.tsx":R,"../locales/zh-CN.ts":k,react:s||(s=n.t(o,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/touchable-calendar-grid.tsx":y,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.tsx":d,"@tarojs/taro":w,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.scss":i,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/taro-utils.ts":P,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/index.tsx":_,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar-range.tsx":D,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar.tsx":v,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar-grid.tsx":c,classnames:x,lodash:M,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/style.scss":u,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Calendar/calendar-header.tsx":E,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/ConfigProvider/index.ts":T,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/ConfigProvider/config-provider.tsx":R,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/locales/zh-CN.ts":k},renderOpts:{compile:function(){var m=C()(r()().mark(function g(){var l,p=arguments;return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(7215).then(n.bind(n,87215));case 2:return t.abrupt("return",(l=t.sent).default.apply(l,p));case 3:case"end":return t.stop()}},g)}));function h(){return m.apply(this,arguments)}return h}()}}}},95676:function(a,e,n){n.r(e),n.d(e,{DemoBlock:function(){return I}});var s=n(44194),f=n(3837),r=n(31549),I=function(o){return(0,r.jsxs)("div",{className:"demoBlock",children:[(0,r.jsx)("div",{className:"demoTitle",children:o.title}),(0,r.jsx)("div",{className:"demoMain",style:{padding:"12px 12px",background:"#ffffff"},children:o.children})]})}},3837:function(a,e,n){n.r(e)},40687:function(a,e,n){n.r(e),n.d(e,{texts:function(){return f}});var s=n(22998);const f=[{value:"\u65E5\u5386\u7EC4\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4E0A\u4E0B\u6ED1\u52A8\u5207\u6362\u6708\u4EFD",paraId:0,tocIndex:0}]},70462:function(a,e){e.Z=`import classNames from 'classnames';
import React, {FC, ForwardedRef, forwardRef, memo, useEffect, useMemo, useState} from 'react';
import './style.scss';
import _ from "lodash";

const calendarCls = 'triones-antm-calendar';

export type CalendarGridProps = {
  mouth?: Date;
  /**
   * @description \u503C\uFF0C\u5982\u679C\u662F\u533A\u95F4\u6A21\u5F0F\uFF0C\u5219 0,1 \u7D22\u5F15\u7684\u503C\u6709\u6548\uFF0C0\u662F\u5F00\u59CB\u65F6\u95F4\uFF0C1\u662F\u7ED3\u675F\u65F6\u95F4
   */
  value?: Date[];
  /**
   * @description \u9ED8\u8BA4\u503C\uFF0C\u5982\u679C\u662F\u533A\u95F4\u6A21\u5F0F\uFF0C\u5219 0,1 \u7D22\u5F15\u7684\u503C\u6709\u6548\uFF0C0\u662F\u5F00\u59CB\u65F6\u95F4\uFF0C1\u662F\u7ED3\u675F\u65F6\u95F4
   */
  defaultValue?: Date[];
  onChange?: (value: Date[]) => void;
  /**
   * @description \u662F\u5426\u4E3A\u8303\u56F4\u9009\u62E9
   */
  range?: boolean
  onSelect?: (date: Date) => void;
};

export type CalendarCellProps = {
  mouth?: Date;
  date?: Date;
  value?: Date[];
  range?: boolean
  onSelect?: (date: Date) => void;
};

const CalendarCell: FC<CalendarCellProps> = memo(
  ({
     mouth = new Date(),
     date = new Date(),
     value,
     range,
     onSelect,
   }) => {
    const disabled = useMemo(() => {
      return date.getMonth() !== mouth.getMonth();
    }, [date, mouth]);

    const selected = useMemo(() => {
      if (disabled || _.isEmpty(value)) {
        return false
      }
      if (value?.[0]) {
        value?.[0]?.setHours(0, 0, 0, 0)
      }
      if (value?.[1]) {
        value?.[1]?.setHours(0, 0, 0, 0)
      }

      date.setHours(0, 0, 0, 0);
      if (range) {
        const startDate = value?.[0]
        const endDate = value?.[1]
        console.log('value', value)

        return date.getTime() === startDate?.getTime() || date.getTime() === endDate?.getTime();
      } else {
        return date.getTime() === value?.[0]?.getTime();
      }

    }, [mouth, date, value]);

    const selectedRange = useMemo(() => {
      if (disabled || !range) {
        return false
      }
      const startDate = value?.[0]
      const endDate = value?.[1]
      if (!startDate || !endDate) {
        return false
      }
      date.setHours(0, 0, 0, 0);
      startDate.setHours(0, 0, 0, 0);
      endDate.setHours(0, 0, 0, 0);
      return (
        date.getTime() > startDate!.getTime() &&
        date.getTime() < endDate!.getTime()
      );
    }, [mouth, date, value]);

    return (
      <div
        className={classNames(\`\${calendarCls}-cell\`, {
          [\`\${calendarCls}-cell-disabled\`]: disabled,
          [\`\${calendarCls}-cell-selected\`]: selected,
          [\`\${calendarCls}-cell-selected-range\`]: selectedRange,
        })}
        // style={{ width: size, height: size }}
        onClick={() => {
          onSelect?.(date);
        }}
      >
        <div className={classNames(\`\${calendarCls}-cell-date\`)}>{date.getDate()}</div>
        {date.getDate()===1 && <div className={classNames(\`\${calendarCls}-cell-mouth\`)}>{\`\${(date.getMonth()+1)}\u6708\`}</div>}
      </div>
    );
  },
);

export const CalendarGrid: FC<CalendarGridProps> = memo(forwardRef(({
                                                                  mouth = new Date(),
                                                                  value,
                                                                  defaultValue,
                                                                  range = false,
                                                                  onChange,
                                                                  onSelect
                                                                }, ref: ForwardedRef<any>) => {

  const [innerValue, setInnerValue] = useState(value ?? defaultValue ?? [])

  const handleSelect = (date: Date) => {
    date.setHours(0, 0, 0, 0)
    let _value: Date[] = innerValue
    if (range) {
      if (!_value[0]) {
        _value = [date]
      } else if (!_value[1]) {
        let startDate = _value[0]
        if (date.getTime() < startDate.getTime()) {
          _value = [date, startDate]
        } else {
          _value = [startDate, date]
        }
      }else if (_value[0] && _value[1]) {
        _value = [date]
      }
    } else {
      _value = [date]
    }
    setInnerValue(_value)
    onSelect?.(date)
    onChange?.(_value)
  }

  const cells = useMemo(() => {
    const firstDate = new Date(mouth.getFullYear(), mouth.getMonth(), 1);
    const lastDate = new Date(mouth.getFullYear(), mouth.getMonth() + 1, 0);
    const beforeDays = Array.from({length: firstDate.getDay()}).map(
      (_, index): Date => {
        const date = new Date(firstDate);
        date.setDate(firstDate.getDate() - (firstDate.getDay() - index));
        return date;
      },
    );

    const afterDays = Array.from({length: 6 - lastDate.getDay()}).map(
      (_, index): Date => {
        const date = new Date(lastDate);
        date.setDate(lastDate.getDate() + index + 1);
        return date;
      },
    );
    const mouthDays = Array.from({length: lastDate.getDate()}).map(
      (_, index): Date => {
        const date = new Date(firstDate);
        date.setDate(date.getDate() + index);
        return date;
      },
    );
    return [...beforeDays, ...mouthDays, ...afterDays];
  }, [mouth]);

  useEffect(() => {
    if (value !== undefined) {
      if (value !== innerValue) {
        setInnerValue(value)
      }
    }
  }, [value]);

  return (
    <div ref={ref} className={classNames(\`\${calendarCls}-grid\`)}>
      {cells.map((item, index) => {
        return (
          <CalendarCell
            key={index}
            mouth={mouth}
            date={item}
            value={innerValue}
            range={range}
            onSelect={handleSelect}
          />
        );
      })}
    </div>
  );
}));
`},12884:function(a,e){e.Z='import React from "react";\nimport {FC} from "react";\nimport classNames from "classnames";\nimport {useConfig} from "../ConfigProvider";\n\nconst calendarCls = \'triones-antm-calendar\';\ntype CalendarHeaderProps={\n  mouth: Date;\n  onChange:(mouth:Date)=>void;\n}\nexport const CalendarHeader:FC<CalendarHeaderProps> = ({mouth,onChange}) => {\n  const { locale } = useConfig();\n  return (<>\n    <div className={classNames(`${calendarCls}-header`)}>\n      <div className={classNames(`${calendarCls}-header-button`)} onClick={() => {\n        onChange(new Date(mouth.getFullYear() - 1, mouth.getMonth(), 1))\n      }}>{`<<`}</div>\n      <div className={classNames(`${calendarCls}-header-button`)} onClick={() => {\n        onChange(new Date(mouth.getFullYear(), mouth.getMonth() - 1, 1))\n      }}>{`<`}</div>\n      <div\n        className={classNames(`${calendarCls}-header-title`)}>{`${mouth.getFullYear()}\u5E74${mouth.getMonth() + 1}\u6708`}</div>\n      <div className={classNames(`${calendarCls}-header-button`)} onClick={() => {\n        onChange(new Date(mouth.getFullYear(), mouth.getMonth() + 1, 1))\n      }}>{`>`}</div>\n      <div className={classNames(`${calendarCls}-header-button`)} onClick={() => {\n        onChange(new Date(mouth.getFullYear() + 1, mouth.getMonth(), 1))\n      }}>{`>>`}</div>\n    </div>\n    <div\n      className={classNames(`${calendarCls}-week`)}>{[`\u65E5`, `\u4E00`, `\u4E8C`, `\u4E09`, `\u56DB`, `\u4E94`, `\u516D`].map((item, index) => {\n      return <div className={classNames(`${calendarCls}-week-cell`)} key={index}>{item}</div>\n    })}</div>\n  </>)\n}\n'},27033:function(a,e){e.Z=`import React, {FC, memo, useEffect, useRef, useState} from "react"
import classNames from "classnames";
import "./style.scss"
import {TouchableCalendarGrid} from "./touchable-calendar-grid";
import {CalendarHeader} from "./calendar-header";
import _ from "lodash";

const calendarCls = 'triones-antm-calendar';

type CalendarProps = {
  mouth?: Date;
  value?: Date[];
  onChange?: (date: Date[]) => void;
}

export const CalendarRange: FC<CalendarProps> = memo(({mouth = new Date(), value, onChange}) => {
  const [currentMouth, setCurrentMouth] = useState(mouth)
  const valueRef = useRef<any>()

  useEffect(() => {
    if (value !== undefined) {
      if (!_.isEqual(value, valueRef.current)) {
        valueRef.current = value
      }
    }
  }, [value]);

  return <div className={classNames(\`\${calendarCls}\`)}>
    <CalendarHeader mouth={currentMouth} onChange={setCurrentMouth}/>
    <TouchableCalendarGrid mouth={currentMouth}
                           value={value ?? valueRef.current ?? []}
                           onMouthChange={setCurrentMouth}
                           onChange={(value) => {
                             valueRef.current = value
                             onChange?.(value)
                           }}
                           range={true}
    />
  </div>
})
`},63742:function(a,e){e.Z=`import React, {FC, memo, useState} from "react"
import classNames from "classnames";
import "./style.scss"
import {TouchableCalendarGrid} from "./touchable-calendar-grid";
import {CalendarHeader} from "./calendar-header";

const calendarCls = 'triones-antm-calendar';

export type CalendarProps = {
  mouth?: Date;
  value?: Date;
  onChange?: (date: Date) => void;
}

export const Calendar: FC<CalendarProps> = memo(({mouth = new Date(), value, onChange}) => {
  const [currentMouth, setCurrentMouth] = useState(mouth)

  return <div className={classNames(\`\${calendarCls}\`)}>
    <CalendarHeader mouth={currentMouth} onChange={setCurrentMouth}/>
    <TouchableCalendarGrid mouth={currentMouth}
                           value={value ? [value] : []}
                           onMouthChange={setCurrentMouth}
                           onChange={(value) => {
                             onChange?.(value?.[0])
                           }}
    />
  </div>
})
`},90866:function(a,e){e.Z=`import React from "react"
import {DemoBlock} from "../../DemoBlock";
import Calendar from "../index";

export default ()=>{
  return <div>
    <DemoBlock title={\`\u57FA\u672C\u4F7F\u7528\`}>
      <Calendar/>
    </DemoBlock>
    <DemoBlock title={\`\u57FA\u672C\u4F7F\u7528\uFF08\u533A\u95F4\u8303\u56F4\uFF09\`}>
      <Calendar.Range/>
    </DemoBlock>
  </div>
}
`},49406:function(a,e){e.Z=`import React from 'react';
import {CalendarGrid} from '../calendar-grid';
import {DemoBlock} from '../../DemoBlock';

export default ()=>{

  return <>
    <DemoBlock title="\u65E5\u5386\u7F51\u683C">
      <CalendarGrid/>
    </DemoBlock>
    <DemoBlock title="\u65E5\u5386\u7F51\u683C(\u533A\u95F4\u9009\u62E9)">
      <CalendarGrid range={true} />
    </DemoBlock>
  </>
}
`},10392:function(a,e){e.Z=`import React from "react";
import {DemoBlock} from "../../DemoBlock";
import {TouchableCalendarGrid} from "../touchable-calendar-grid";



export default () => {
  return <DemoBlock title={\`\u53EF\u624B\u52BF\u4E0A\u4E0B\u6ED1\u52A8\u7684\u65E5\u5386\u7F51\u683C(PC\u7AEF\u9F20\u6807\u6309\u4F4F\u4E0A\u4E0B\u62D6\u62FD)\`}>
    <TouchableCalendarGrid/>
  </DemoBlock>
}
`},10285:function(a,e){e.Z=`import {Calendar as InternalCalendar,CalendarProps} from "./calendar"
import {CalendarGrid,CalendarGridProps} from "./calendar-grid"
import {TouchableCalendarGrid} from "./touchable-calendar-grid"
import {CalendarRange} from "./calendar-range";


export {CalendarGrid, TouchableCalendarGrid}

type CompoundedComponent = typeof InternalCalendar & {
  Range: typeof CalendarRange;
};
const Calendar = InternalCalendar as CompoundedComponent;
Calendar.Range = CalendarRange;

export type {
  CalendarProps,
  CalendarGridProps
}

export default Calendar
`},61775:function(a,e){e.Z=`@import "../style/variable";

$calendarCls: 'triones-antm-calendar';

.#{$calendarCls}-grid {
  //display: flex;
  //flex-wrap: wrap;
  display: grid;
  grid-template-columns: repeat(7, 1fr);
}

.#{$calendarCls}-cell {
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: $trionesBorderRadius;
  cursor: default;
  flex-direction: column;

  &-date {
    display: flex;
    width: 100%;
    justify-content: center;
    align-items: center;
  }

  &-mouth {
    display: flex;
    width: 100%;
    justify-content: center;
    align-items: center;
    font-size: 8Px;
  }

  &.#{$calendarCls}-cell {
    &-disabled {
      color: #999999;
    }

    &-selected {
      background-color: $trionesColorPrimary;
      color: white;
    }

    &-selected-range {
      border-radius: 0;
      background-color: $trionesColorPrimaryBg;
      color: black;
    }
  }
}

.#{$calendarCls} {
  &-header {
    display: flex;
    justify-content: space-between;
    align-items: center;

    &-title {
      font-size: 16Px;
      padding: 8Px;
      text-align: center;
    }

    &-button {
      padding-left: 12Px;
      padding-right: 12Px;
      cursor: pointer;
    }
  }

  &-week {
    display: grid;
    grid-template-columns: repeat(7, 1fr);

    &-cell {
      display: flex;
      justify-content: center;
      align-items: center;
      padding-top: 8Px;
      padding-bottom: 8Px;
    }
  }
}
`},39227:function(a,e){e.Z=`import React, {FC, memo, useEffect, useRef, useState} from 'react';
import Taro from '@tarojs/taro'
import {CalendarGrid} from '../Calendar';
import {checkTaroEnv} from "../utils/taro-utils";

type CalendarPickerViewProps = {
  mouth?: Date;
  value?: Date[];
  defaultValue?: Date[];
  onChange?: (value: Date[]) => void;
  onMouthChange?: (mouth: Date) => void;
  range?: boolean
};

/**
 * \u53EF\u4EE5\u624B\u52BF\u6ED1\u52A8\u7684\u65E5\u5386\u7EC4\u4EF6
 */
export const TouchableCalendarGrid: FC<CalendarPickerViewProps> = memo(({
                                                                          mouth = new Date(),
                                                                          value,
                                                                          defaultValue,
                                                                          onChange,
                                                                          onMouthChange,
                                                                          range
                                                                        }) => {
  const isTaroEnv = checkTaroEnv();
  const wrapperRef = useRef<any>()
  const [currentMouth, setCurrentMouth] = useState(mouth);
  let waiting = false;
  const [mouthHeight, setMouthHeight] = useState(200) //\u5F53\u524D\u9009\u4E2D\u7684\u6708\u4EFD\u7684\u5C55\u793A\u9AD8\u5EA6
  const [touching, setTouching] = useState<boolean>(false); //\u662F\u5426\u6B63\u5728\u6ED1\u52A8
  const [touchStartPoint, setTouchStartPoint] = React.useState<any>(); //\u89E6\u6478\u70B9
  const [touchPoint, setTouchPoint] = React.useState<any>(); //\u89E6\u6478\u70B9
  const [translateY, setTranslateY] = useState(0)
  const [mouths, setMouths] = useState<Date[]>([]);

  /**
   * \u8BA1\u7B97\u51FA\u6BCF\u4E2A\u683C\u5B50\u7684\u5927\u5C0F
   */
  const cellSize = async (): Promise<number> => {
    if (isTaroEnv) {
      return await new Promise(resolve => Taro.createSelectorQuery()
        .select(\`#\${wrapperRef.current?.uid}\`).boundingClientRect().exec(res => resolve(res?.[0]?.width / 7)));

    }
    return Promise.resolve(wrapperRef.current?.clientWidth / 7)
  }
  /**
   * \u8BA1\u7B97\u51FA\u6700\u5927\u7684translateY\uFF0C\u9ED8\u8BA4\u4E3AwrapperRef.current?.clientHeight
   */
  const minTranslateY = async (): Promise<number> => {
    if (isTaroEnv) {
      return await new Promise(resolve => {Taro.createSelectorQuery()
        .select(\`#\${wrapperRef.current?.uid}\`).boundingClientRect().exec(res => resolve(res?.[0]?.height))});

    }
    return Promise.resolve(wrapperRef.current?.clientHeight)
  }

  /**
   * \u8BA1\u7B97\u51FA\u8BE5\u6708\u7684\u884C\u6570
   * @param mouth
   */
  const mouthLines = (mouth: Date) => {
    const firstDate = new Date(mouth.getFullYear(), mouth.getMonth(), 1);
    const lastDate = new Date(mouth.getFullYear(), mouth.getMonth() + 1, 0);
    const beforeDays = firstDate.getDay()
    const afterDays = 6 - lastDate.getDay()
    const countDays = beforeDays + lastDate.getDate() + afterDays
    return Math.ceil(countDays / 7)
  }


  const handleInsertMouth = async () => {
    // if (waiting){
    //   return
    // }
    // debugger
    // waiting = true
    const firstMouth = mouths[0];
    const insertMouth = new Date(firstMouth.getFullYear(), firstMouth.getMonth() - 1, 1);
    console.log(insertMouth)
    const newMouths = [insertMouth, ...mouths];
    setMouths(newMouths);
    const insertMouthLines = mouthLines(insertMouth)
    const insertMouthHeight = insertMouthLines * await cellSize()
    setTranslateY(translateY - insertMouthHeight)
    // waiting  = false
  }

  const handleAppendMouth = () => {
    // if (waiting){
    //   return
    // }
    // waiting = true
    const lastMouth = mouths[mouths.length - 1];
    const appendMouth = new Date(lastMouth.getFullYear(), lastMouth.getMonth() + 1, 1);
    const newMouths = [...mouths, appendMouth];
    setMouths(newMouths)
    // waiting = false
  }

  useEffect(() => {
    const initMouths = [
      new Date(currentMouth.getFullYear(), currentMouth.getMonth() - 1, 1),
      new Date(currentMouth.getFullYear(), currentMouth.getMonth(), 1),
      new Date(currentMouth.getFullYear(), currentMouth.getMonth() + 1, 1),
    ]

    Promise.all([]).then(async () => {
      setMouths(initMouths)
      setMouthHeight(mouthLines(currentMouth) * await cellSize())
      const firstMouthHeight = mouthLines(initMouths[0]) * await cellSize()
      setTranslateY(0 - firstMouthHeight)
    })
  }, [currentMouth]);

  useEffect(() => {
    if (mouth !== undefined) {
      if (mouth !== currentMouth) {
        setCurrentMouth(mouth)
      }
    }
  }, [mouth]);

  return <div style={{boxSizing: 'border-box', overflow: 'hidden', height: mouthHeight}}>
    <div ref={wrapperRef} id={wrapperRef.current?.uid}
         style={{transform: \`translate3d(0, \${translateY}px, 0)\`}}
         onTouchStart={(event) => {
           event.preventDefault();
           event.stopPropagation();
           setTouching(true);
           const startPoint = {clientX: event.touches[0].clientX, clientY: event.touches[0].clientY}
           setTouchStartPoint(startPoint)
           setTouchPoint(startPoint);
         }}
         onTouchMove={async (event) => {
           event.preventDefault();
           event.stopPropagation();
           if (touching) {
             const movePoint = {clientX: event.touches[0].clientX, clientY: event.touches[0].clientY}
             if (translateY > 0 || translateY < (0 - await minTranslateY())) {
               return
             }
             console.log("move", movePoint.clientY - touchPoint.clientY)
             const newTranslateY = translateY + (movePoint.clientY - touchPoint.clientY);
             setTranslateY(newTranslateY);
             setTouchPoint(movePoint);
             // console.log(newTranslateY,minTranslateY())
             if (newTranslateY > -10) { //\u5F53\u5411\u4E0B\u6ED1\u52A8\uFF0C\u9876\u90E8\u8DDD\u79BB\u89C6\u7A97\u9876\u90E8\u8DDD\u79BB\u5C0F\u4E8E10\uFF0C\u5219\u63D2\u5165\u4E0A\u4E00\u4E2A\u6708\u4EFD
               console.log("insert")
               await handleInsertMouth()
             } else if (newTranslateY < (0 - (await minTranslateY()) + 10)) { //\u5F53\u5411\u4E0B\u6ED1\u52A8\uFF0C\u5E95\u90E8\u8DDD\u79BB\u89C6\u7A97\u5E95\u90E8\u8DDD\u79BB\u5C0F\u4E8E10\uFF0C\u5219\u8FFD\u52A0\u4E0B\u4E00\u4E2A\u6708\u4EFD
               console.log("append")
               handleAppendMouth()
             }
           }
         }}
         onTouchEnd={async (event) => {
           setTouching(false);
           if (Math.abs(Math.abs(touchStartPoint.clientY) - Math.abs(touchPoint.clientY)) < 5) {
             return
           }


           console.log(mouths)
           let displayMouth;
           //region \u5224\u65AD\u5F53\u524D\u6708\u4EFD\u662F\u5426\u5728\u89C6\u7A97\u5185
           let _mouthHeightSum = 0
           for (let i = 0; i < mouths.length; i++) {
             console.log("mouthHeight", mouthHeight)
             console.log("mouths[i]", mouths[i], i)
             const _mouthHeight = mouthLines(mouths[i]) * await cellSize()
             _mouthHeightSum += _mouthHeight
             console.log("_mouthHeightSum", _mouthHeightSum)
             console.log("translateY", translateY)
             const _topLineY = 0 - (_mouthHeightSum - _mouthHeight) //\u8BE5\u6708\u4EFD\u533A\u57DF\u9876\u90E8\uFF0C\u5BF9\u4E8E\u9876\u70B9\u7684\u504F\u79FB\u91CF
             console.log("_topLineY", _topLineY)
             if (_topLineY <= translateY && _topLineY >= (translateY - mouthHeight)) { //\u8BE5\u6708\u4EFD\u533A\u57DF\u7684\u9876\u90E8\u5728\u89C6\u7A97\u5185
               console.log("top_in")
               const _windowDisplayHeight = _mouthHeightSum - (0 - translateY) //\u8BE5\u6708\u4EFD\u533A\u57DF\u5E95\u90E8\u8DDD\u79BB\u89C6\u7A97\u9876\u90E8\u7684\u8DDD\u79BB
               console.log("_windowDisplayHeight\u2014\u2014top", _windowDisplayHeight)
               if (_windowDisplayHeight >= (mouthHeight / 2)) {

                 console.log("displayMouth", mouths[i])
                 displayMouth = mouths[i]
                 break
               }
             }
             const _bottomLineY = 0 - _mouthHeightSum; //\u8BE5\u6708\u4EFD\u533A\u57DF\u5E95\u90E8\uFF0C\u5BF9\u4E8E\u9876\u70B9\u7684\u504F\u79FB\u91CF
             console.log("_bottomLineY", _bottomLineY)
             if (_bottomLineY <= translateY && _bottomLineY >= (translateY - mouthHeight)) {//\u8BE5\u6708\u4EFD\u533A\u57DF\u7684\u5E95\u90E8\u5728\u89C6\u7A97\u5185
               console.log("bottom_in")
               const _windowDisplayHeight = _mouthHeightSum - (0 - translateY) //\u8BE5\u6708\u4EFD\u533A\u57DF\u5E95\u90E8\u8DDD\u79BB\u89C6\u7A97\u9876\u90E8\u7684\u8DDD\u79BB
               console.log("_windowDisplayHeight-bottom", _windowDisplayHeight)
               if (_windowDisplayHeight >= (mouthHeight / 2)) {

                 console.log("displayMouth", mouths[i])
                 displayMouth = mouths[i]
                 break
               }
             }
           }
           //endregion
           if (displayMouth) {
             setCurrentMouth(displayMouth)
             onMouthChange?.(displayMouth)
           }
         }}
    >
      {
        mouths.map((mouth, index) => (
          <CalendarGrid
            key={index}
            mouth={mouth}
            value={value}
            defaultValue={defaultValue}
            onChange={onChange}
            range={range}
          />
        ))
      }</div>
  </div>;
});
`},7003:function(a,e){e.Z=`import React, { FC, ReactNode, useContext } from 'react'
import { Locale } from '../locales/base'
import zhCN from '../locales/zh-CN'

export type ConfigProviderDirection = 'ltr' | 'rtl' | undefined

type Config = {
  locale: Locale
  direction?: ConfigProviderDirection
  checkList?: {
    activeIcon?: ReactNode
  }
  collapse?: {
    arrowIcon?: ReactNode | ((active: boolean) => ReactNode)
  }
  dropdown?: {
    arrowIcon?: ReactNode
  }
  form?: {
    helpIcon?: ReactNode
  }
  input?: {
    clearIcon?: ReactNode
  }
  list?: {
    arrowIcon?: ReactNode
  }
  navBar?: {
    backIcon?: ReactNode
  }
  noticeBar?: {
    icon?: ReactNode
    closeIcon?: ReactNode
  }
  popup?: {
    closeIcon?: ReactNode
  }
  result?: {
    successIcon?: ReactNode
    errorIcon?: ReactNode
    infoIcon?: ReactNode
    waitingIcon?: ReactNode
    warningIcon?: ReactNode
  }
  searchBar?: {
    searchIcon?: ReactNode
  }
}

export const defaultConfigRef: {
  current: Config
} = {
  current: {
    locale: zhCN,
    direction: 'ltr',
  },
}

export function setDefaultConfig(config: Config) {
  defaultConfigRef.current = config
}

export function getDefaultConfig() {
  return defaultConfigRef.current
}

const ConfigContext = React.createContext<Config | null>(null)

export type ConfigProviderProps = Partial<Config> & {
  children?: ReactNode
}


export function useConfig() {
  return useContext(ConfigContext) ?? getDefaultConfig()
}

export const useRtl = () => {
  const { direction } = useConfig()
  return direction === 'rtl'
}

export const ConfigProvider: FC<ConfigProviderProps> = props => {
  const { children, ...config } = props
  const parentConfig = useConfig()

  return (
    <ConfigContext.Provider
      value={{
        ...parentConfig,
        ...config,
      }}
    >
      {children}
    </ConfigContext.Provider>
  )
}

`},77563:function(a,e){e.Z=`import { ConfigProvider } from './config-provider'

export type { ConfigProviderProps } from './config-provider'

export {
  useConfig,
  setDefaultConfig,
  getDefaultConfig,
} from './config-provider'

export default ConfigProvider
`},63498:function(a,e){e.Z=`.demoBlock {
  font-size: 14px;
  margin-bottom: 12px;
  &:last-of-type {
    padding-bottom: 32px;
  }
  scrollbar-width: thin;
}

.demoTitle {
  padding: 12px 12px 8px;
  color: #697b8c;
  font-size: 14px;
  background: #fafbfc;
}

.demoMain {
  border-right: none;
  border-left: none;
}
`},87669:function(a,e){e.Z=`import React from 'react'
import type { FC, ReactNode } from 'react'
import './index.scss'

interface Props {
  title: string
  padding?: string
  background?: string
  children?: ReactNode
}

export const DemoBlock: FC<Props> = props => {
  return (
    <div className='demoBlock'>
      <div className='demoTitle'>{props.title}</div>
      <div
        className='demoMain'
        style={{
          padding: '12px 12px',
          background: '#ffffff',
        }}
      >
        {props.children}
      </div>
    </div>
  )
}
`},5515:function(a,e){e.Z=`import { Locale } from './base'

const typeTemplate = '\${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684\${type}'

const zhCN: Locale = {
  locale: 'zh-CH',
  common: {
    confirm: '\u786E\u5B9A',
    cancel: '\u53D6\u6D88',
    loading: '\u52A0\u8F7D\u4E2D',
    close: '\u5173\u95ED',
  },
  Calendar: {
    title: '\u65E5\u671F\u9009\u62E9',
    confirm: '\u786E\u8BA4',
    start: '\u5F00\u59CB',
    end: '\u7ED3\u675F',
    today: '\u4ECA\u65E5',
    markItems: ['\u4E00', '\u4E8C', '\u4E09', '\u56DB', '\u4E94', '\u516D', '\u65E5'],
    yearAndMonth: '\${year}\u5E74\${month}\u6708',
  },
  Cascader: {
    placeholder: '\u8BF7\u9009\u62E9',
  },
  Dialog: {
    ok: '\u6211\u77E5\u9053\u4E86',
  },
  DatePicker: {
    tillNow: '\u81F3\u4ECA',
  },
  ErrorBlock: {
    default: {
      title: '\u9875\u9762\u9047\u5230\u4E00\u4E9B\u5C0F\u95EE\u9898',
      description: '\u5F85\u4F1A\u6765\u8BD5\u8BD5',
    },
    busy: {
      title: '\u524D\u65B9\u62E5\u5835',
      description: '\u5237\u65B0\u8BD5\u8BD5',
    },
    disconnected: {
      title: '\u7F51\u7EDC\u6709\u70B9\u5FD9',
      description: '\u52A8\u52A8\u624B\u6307\u5E2E\u5FD9\u4FEE\u590D',
    },
    empty: {
      title: '\u6CA1\u6709\u627E\u5230\u4F60\u9700\u8981\u7684\u4E1C\u897F',
      description: '\u627E\u627E\u5176\u4ED6\u7684\u5427',
    },
  },
  Form: {
    required: '\u5FC5\u586B',
    optional: '\u9009\u586B',
    defaultValidateMessages: {
      default: '\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF\${label}',
      required: '\u8BF7\u8F93\u5165\${label}',
      enum: '\${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[\${enum}]',
      whitespace: '\${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26',
      date: {
        format: '\${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548',
        parse: '\${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F',
        invalid: '\${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F',
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate,
      },
      string: {
        len: '\${label}\u987B\u4E3A\${len}\u4E2A\u5B57\u7B26',
        min: '\${label}\u6700\u5C11\${min}\u4E2A\u5B57\u7B26',
        max: '\${label}\u6700\u591A\${max}\u4E2A\u5B57\u7B26',
        range: '\${label}\u987B\u5728\${min}-\${max}\u5B57\u7B26\u4E4B\u95F4',
      },
      number: {
        len: '\${label}\u5FC5\u987B\u7B49\u4E8E\${len}',
        min: '\${label}\u6700\u5C0F\u503C\u4E3A\${min}',
        max: '\${label}\u6700\u5927\u503C\u4E3A\${max}',
        range: '\${label}\u987B\u5728\${min}-\${max}\u4E4B\u95F4',
      },
      array: {
        len: '\u987B\u4E3A\${len}\u4E2A\${label}',
        min: '\u6700\u5C11\${min}\u4E2A\${label}',
        max: '\u6700\u591A\${max}\u4E2A\${label}',
        range: '\${label}\u6570\u91CF\u987B\u5728\${min}-\${max}\u4E4B\u95F4',
      },
      pattern: {
        mismatch: '\${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D\${pattern}',
      },
    },
  },
  ImageUploader: {
    uploading: '\u4E0A\u4F20\u4E2D...',
    upload: '\u4E0A\u4F20',
  },
  InfiniteScroll: {
    noMore: '\u6CA1\u6709\u66F4\u591A\u4E86',
    failedToLoad: '\u52A0\u8F7D\u5931\u8D25',
    retry: '\u91CD\u65B0\u52A0\u8F7D',
  },
  Input: {
    clear: '\u6E05\u9664',
  },
  Mask: {
    name: '\u80CC\u666F\u8499\u5C42',
  },
  Modal: {
    ok: '\u6211\u77E5\u9053\u4E86',
  },
  PasscodeInput: {
    name: '\u5BC6\u7801\u8F93\u5165\u6846',
  },
  PullToRefresh: {
    pulling: '\u4E0B\u62C9\u5237\u65B0',
    canRelease: '\u91CA\u653E\u7ACB\u5373\u5237\u65B0',
    complete: '\u5237\u65B0\u6210\u529F',
  },
  SearchBar: {
    name: '\u641C\u7D22\u6846',
  },
  Slider: {
    name: '\u6ED1\u52A8\u8F93\u5165\u6761',
  },
  Stepper: {
    decrease: '\u51CF\u5C11',
    increase: '\u589E\u52A0',
  },
  Switch: {
    name: '\u5F00\u5173',
  },
  Selector: {
    name: '\u9009\u62E9\u7EC4',
  },
}

export default zhCN
`},21675:function(a,e){e.Z=`import Taro from '@tarojs/taro'

export const checkTaroEnv = () => {
  const env = Taro.getEnv()
  return env && "Unknown" != env?.toString()
}
`}}]);
