"use strict";(self.webpackChunk_trionesdev_antd_taro_react=self.webpackChunk_trionesdev_antd_taro_react||[]).push([[9975],{34421:function(t,a,n){var e;n.r(a),n.d(a,{demos:function(){return O}});var o=n(90819),M=n.n(o),p=n(89933),i=n.n(p),m=n(44194),A=n(64038),v=n(72995),u=n(95676),_=n(34344),E=n(43377),s=n(26694),B=n(4758),K=n(57481),P=n(9036),d=n(72161),N=n(51865),x=n.n(N),R=n(92292),W=n(93794),k=n(39378),r=n.n(k),c=n(28477),f=n(82281),C=n(78252),h=n(50754),y=n(22045),D=n(62276),I=n(64693),O={"scaffold-demo-base":{component:m.memo(m.lazy(function(){return n.e(9716).then(n.bind(n,1680))})),asset:{type:"BLOCK",id:"scaffold-demo-base",refAtomIds:["Scaffold"],dependencies:{"index.tsx":{type:"FILE",value:n(58866).Z},"@trionesdev/antd-taro-icons-react":{type:"NPM",value:"0.0.1"},react:{type:"NPM",value:"18.3.1"},"../../DemoBlock.tsx":{type:"FILE",value:n(23624).Z},"../index.tsx":{type:"FILE",value:n(17832).Z},"../../NavBar.ts":{type:"FILE",value:n(75200).Z},"../../TabBar.tsx":{type:"FILE",value:n(62530).Z},"./scaffold.tsx":{type:"FILE",value:n(92396).Z},"./nav-bar.tsx":{type:"FILE",value:n(3079).Z},"./tab-bar.tsx":{type:"FILE",value:n(40669).Z},"./index.scss":{type:"FILE",value:n(68974).Z},classnames:{type:"NPM",value:"2.5.1"},"./style.scss":{type:"FILE",value:n(66447).Z},"../SafeArea.tsx":{type:"FILE",value:n(75848).Z},lodash:{type:"NPM",value:"4.17.21"},"./TabBarContext.tsx":{type:"FILE",value:n(85656).Z},"./safe-area.tsx":{type:"FILE",value:n(46451).Z},"../utils/native-props.ts":{type:"FILE",value:n(78892).Z},"../ConfigProvider.ts":{type:"FILE",value:n(77448).Z},"../utils/with-default-props.tsx":{type:"FILE",value:n(91220).Z},"./config-provider.tsx":{type:"FILE",value:n(94149).Z},"../locales/zh-CN.ts":{type:"FILE",value:n(77536).Z}},entry:"index.tsx"},context:{"../../DemoBlock.tsx":u,"../index.tsx":_,"../../NavBar.ts":E,"../../TabBar.tsx":s,"./scaffold.tsx":B,"./nav-bar.tsx":K,"./tab-bar.tsx":P,"./index.scss":d,"./style.scss":R,"../SafeArea.tsx":W,"./TabBarContext.tsx":c,"./safe-area.tsx":f,"../utils/native-props.ts":C,"../ConfigProvider.ts":h,"../utils/with-default-props.tsx":y,"./config-provider.tsx":D,"../locales/zh-CN.ts":I,"@trionesdev/antd-taro-icons-react":v,react:e||(e=n.t(m,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.tsx":u,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Scaffold/index.tsx":_,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/NavBar/index.ts":E,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/TabBar/index.tsx":s,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Scaffold/scaffold.tsx":B,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/NavBar/nav-bar.tsx":K,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/TabBar/tab-bar.tsx":P,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/TabBar/index.scss":d,classnames:N,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/NavBar/style.scss":R,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/SafeArea/index.tsx":W,lodash:k,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/TabBar/TabBarContext.tsx":c,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/SafeArea/safe-area.tsx":f,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/native-props.ts":C,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/ConfigProvider/index.ts":h,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/with-default-props.tsx":y,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/ConfigProvider/config-provider.tsx":D,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/locales/zh-CN.ts":I},renderOpts:{compile:function(){var T=i()(M()().mark(function g(){var U,L=arguments;return M()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,n.e(2740).then(n.bind(n,42740));case 2:return l.abrupt("return",(U=l.sent).default.apply(U,L));case 3:case"end":return l.stop()}},g)}));function b(){return T.apply(this,arguments)}return b}()}}}},93794:function(t,a,n){n.r(a);var e=n(82281),o=n(27318);a.default=e.SafeArea},82281:function(t,a,n){n.r(a),n.d(a,{SafeArea:function(){return _}});var e=n(84176),o=n.n(e),M=n(44194),p=n(78252),i=n(51865),m=n.n(i),A=n(31549),v=["position"],u="triones-antm-safe-area",_=function(s){var B=s.position,K=B===void 0?"top":B,P=o()(s,v);return(0,p.withNativeProps)(P,(0,A.jsx)("div",{className:m()(u,"".concat(u,"-position-").concat(K)),children:P.children}))}},34344:function(t,a,n){n.r(a);var e=n(4758);a.default=e.Scaffold},4758:function(t,a,n){n.r(a),n.d(a,{Scaffold:function(){return m}});var e=n(51865),o=n.n(e),M=n(44194),p=n(93794),i=n(31549),m=function(v){var u=v.appBar,_=v.children,E=v.bottomNavigationBar,s="triones-antm-scaffold";return(0,i.jsxs)("div",{className:o()(s),children:[u&&(0,i.jsx)(p.default,{position:"top",children:u}),(0,i.jsx)("div",{className:o()("".concat(s,"-body")),children:_}),E&&(0,i.jsx)(p.default,{position:"bottom",children:E})]})}},28477:function(t,a,n){n.r(a),n.d(a,{TabBarContext:function(){return o}});var e=n(44194),o=(0,e.createContext)({})},26694:function(t,a,n){n.r(a);var e=n(9036),o=e.TabBar;a.default=o},9036:function(t,a,n){n.r(a),n.d(a,{TabBar:function(){return W},TabBarItem:function(){return R}});var e=n(73193),o=n.n(e),M=n(45332),p=n.n(M),i=n(10154),m=n.n(i),A=n(84176),v=n.n(A),u=n(72161),_=n(44194),E=n(51865),s=n.n(E),B=n(28477),K=n(39378),P=n.n(K),d=n(31549),N=["className","antKey","label","icon","activeIcon","disabled","onClick","render"],x="triones-tab-bar",R=function(r){var c=r.className,f=r.antKey,C=r.label,h=r.icon,y=r.activeIcon,D=r.disabled,I=D===void 0?!1:D,O=r.onClick,T=r.render,b=v()(r,N),g=(0,_.useContext)(B.TabBarContext),U=g.activeKey,L=g.setActiveKey,S=g.onTabClick,l=f===U,j=l&&y!=null?y:h;return(0,d.jsx)("div",{className:s()("".concat(x,"-item"),c,m()({},"".concat(x,"-item-active"),l)),onClick:function(){L==null||L(f),O==null||O(f),S==null||S({antKey:f})},children:(T==null?void 0:T(l))||(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:s()("".concat(x,"-item-icon")),children:j}),(0,d.jsx)("div",{className:s()("".concat(x,"-item-label")),children:C})]})})},W=function(r){var c=r.activeKey,f=r.defaultActiveKey,C=r.items,h=r.children,y=r.onClick,D=_.useState(c!=null?c:f),I=p()(D,2),O=I[0],T=I[1];return(0,_.useEffect)(function(){T(c)},[c]),(0,d.jsx)(B.TabBarContext.Provider,{value:{activeKey:O,setActiveKey:T,onTabClick:y},children:(0,d.jsx)("div",{className:s()(x),children:(0,d.jsxs)("div",{className:s()("".concat(x,"-wrap")),children:[!P().isEmpty(C)&&C.map(function(b){return(0,_.createElement)(R,o()(o()({},b),{},{key:b.key,antKey:b.key,onClick:b.onClick}))}),P().isEmpty(C)&&h]})})})}},27318:function(t,a,n){n.r(a)},72161:function(t,a,n){n.r(a)},56182:function(t,a,n){n.r(a),n.d(a,{texts:function(){return o}});var e=n(64038);const o=[]},75848:function(t,a){a.Z=`import { SafeArea } from './safe-area';
import './style.scss';

export type { SafeAreaProps } from './safe-area';

export default SafeArea;
`},46451:function(t,a){a.Z=`import type { FC } from 'react';
import React from 'react';
import { NativeProps, withNativeProps } from '../utils/native-props';

import classNames from 'classnames';

const classPrefix = 'triones-antm-safe-area';

export type SafeAreaProps = {
  children?: React.ReactNode;
  /**
   * @description \u5B89\u5168\u533A\u4F4D\u7F6E
   * @default top
   */
  position?: 'top' | 'bottom';
} & NativeProps;

export const SafeArea: FC<SafeAreaProps> = ({ position = 'top', ...props }) => {
  return withNativeProps(
    props,
    <div
      className={classNames(classPrefix, \`\${classPrefix}-position-\${position}\`)}
    >
      {props.children}
    </div>,
  );
};
`},58866:function(t,a){a.Z=`import { FaceRecognitionOutline } from '@trionesdev/antd-taro-icons-react';
import React from 'react';
import { DemoBlock } from '../../DemoBlock';
import NavBar from '../../NavBar';
import TabBar from '../../TabBar';
import Scaffold from '../index';

export default () => {
  return (
    <div>
      <DemoBlock title={\`\u57FA\u672C\u7528\u6CD5\`}>
        <div style={{ height: '60vh' }}>
          <Scaffold
            appBar={<NavBar>\u6807\u9898</NavBar>}
            bottomNavigationBar={
              <TabBar
                items={[
                  {
                    key: 'home',
                    label: '\u9996\u9875',
                    icon: <FaceRecognitionOutline />,
                  },
                  {
                    key: 'save',
                    label: '\u6536\u85CF',
                  },
                  { key: 'my', label: '\u6211\u7684' },
                ]}
              />
            }
          >
            <div></div>
          </Scaffold>
        </div>
      </DemoBlock>
    </div>
  );
};
`},17832:function(t,a){a.Z=`import { Scaffold, ScaffoldProps } from './scaffold';

export type { ScaffoldProps };
export default Scaffold;
`},92396:function(t,a){a.Z=`import classNames from 'classnames';
import React, { FC } from 'react';
import SafeArea from '../SafeArea';
import './style.scss';

export type ScaffoldProps = {
  appBar?: React.ReactNode;
  children?: React.ReactNode;
  bottomNavigationBar?: React.ReactNode;
};

export const Scaffold: FC<ScaffoldProps> = ({
  appBar,
  children,
  bottomNavigationBar,
}) => {
  const scaffoldCls = 'triones-antm-scaffold';
  return (
    <div className={classNames(scaffoldCls)}>
      {appBar && <SafeArea position={'top'}>{appBar}</SafeArea>}
      <div className={classNames(\`\${scaffoldCls}-body\`)}>{children}</div>
      {bottomNavigationBar && (
        <SafeArea position={'bottom'}>{bottomNavigationBar}</SafeArea>
      )}
    </div>
  );
};
`},85656:function(t,a){a.Z=`import {createContext} from "react";

type TabBarContextType = {
  activeKey?: string,
  setActiveKey?: (activeKey: string) => void,
  onTabClick?: (e: { antKey:string }) => void
}

export const TabBarContext = createContext<TabBarContextType>({})
`},68974:function(t,a){a.Z=`@import "../style/variable";
$tabBarCls: 'triones-tab-bar';
.#{$tabBarCls} {
  box-sizing: border-box;

  &-wrap {
    display: flex;
    background-color: #ffffff;
    width: 100%;
    justify-content: space-around;
  }

  &-item {
    display: flex;
    align-items: center;
    flex-direction: column;

    &-active {
      color: $trionesColorPrimary;
    }

    &-icon {
      flex-grow: 1;
    }

    &-label {
      font-size: 10px;
    }
  }
}
`},62530:function(t,a){a.Z=`import { TabBar as InternalTabBar, TabBarItem } from "./tab-bar"

type CompoundedComponent = typeof InternalTabBar & {
  Item: typeof TabBarItem
}

const TabBar = InternalTabBar as CompoundedComponent

export default TabBar
`},40669:function(t,a){a.Z=`import "./index.scss"
import React, {FC, ReactNode, useContext, useEffect} from "react";
import classNames from "classnames";
import {TabBarContext} from "./TabBarContext";
import _ from "lodash";

type TabBarItemType = {
  key: string
  /**
   * @description \u6587\u672C
   */
  label?: React.ReactNode
  /**
   * @description \u56FE\u6807
   */
  icon?: React.ReactNode
  /**
   * @description \u6FC0\u6D3B\u72B6\u6001\u56FE\u6807
   */
  activeIcon?: React.ReactNode
  /**
   * @description \u7981\u7528
   * @default false
   */
  disabled?: boolean
  /**
   * @description \u70B9\u51FB\u56DE\u8C03
   * @param antKey tab\u7684key
   */
  onClick?: (antKey: string) => void
}

type TabBarItemProps = Omit<TabBarItemType, 'key'> & {
  className?: string,
  /**
   * @description \u552F\u4E00\u6807\u8BC6\uFF0C\u4E0Ekey\u4E00\u6837,\u907F\u514D\u4E8Ekey\u7684\u4F7F\u7528\u51B2\u7A81
   */
  antKey: string,
  /**
   * @description \u81EA\u5B9A\u4E49\u6E32\u67D3
   */
  render?: (active: boolean) => React.ReactNode
}


const tabBarCls = 'triones-tab-bar'
export const TabBarItem: FC<TabBarItemProps> = ({
                                                  className,
                                                  antKey,
                                                  label,
                                                  icon,
                                                  activeIcon,
                                                  disabled = false,
                                                  onClick,
                                                  render,
                                                  ...props
                                                }) => {
  const {activeKey, setActiveKey, onTabClick} = useContext(TabBarContext)
  const active = antKey === activeKey
  const displayIcon = active ? (activeIcon ?? icon) : icon

  return <div className={classNames(\`\${tabBarCls}-item\`, className, {
    [\`\${tabBarCls}-item-active\`]: active
  })} onClick={() => {
    setActiveKey?.(antKey)
    onClick?.(antKey)
    onTabClick?.({antKey})
  }}>
    {render?.(active) || <>
      <div className={classNames(\`\${tabBarCls}-item-icon\`)}>{displayIcon}</div>
      <div className={classNames(\`\${tabBarCls}-item-label\`)}>{label}</div>
    </>}
  </div>
}

export type TabBarProps = {
  /**
   * @description \u9ED8\u8BA4\u6FC0\u6D3Bkey
   */
  defaultActiveKey?: string
  /**
   * @description \u6FC0\u6D3Bkey
   */
  activeKey?: string
  /**
   * @description \u5B50\u9879\u914D\u7F6E
   */
  items: TabBarItemType[]
  onClick?: (e: { antKey: string }) => void
  children?: ReactNode
}

export const TabBar: FC<TabBarProps> = ({activeKey, defaultActiveKey, items, children, onClick}) => {
  const [innerActiveKey, setInnerActiveKey] = React.useState<string | undefined>(activeKey ?? defaultActiveKey)

  useEffect(() => {
    setInnerActiveKey(activeKey)
  }, [activeKey]);

  return <TabBarContext.Provider
    value={{activeKey: innerActiveKey, setActiveKey: setInnerActiveKey, onTabClick: onClick}}>
    <div className={classNames(tabBarCls)}>
      <div className={classNames(\`\${tabBarCls}-wrap\`)}>
        {!_.isEmpty(items) && items.map(item => <TabBarItem {...item} key={item.key} antKey={item.key}
                                                            onClick={item.onClick}/>)}
        {_.isEmpty(items) && children}
      </div>
    </div>
  </TabBarContext.Provider>
}
`}}]);
