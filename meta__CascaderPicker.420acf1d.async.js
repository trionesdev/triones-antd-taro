(self.webpackChunk_trionesdev_antd_taro_react=self.webpackChunk_trionesdev_antd_taro_react||[]).push([[1171],{12473:function(t,e,n){"use strict";var l,s;n.r(e),n.d(e,{demos:function(){return T}});var a=n(90819),u=n.n(a),_=n(89933),r=n.n(_),p=n(44194),v=n(74927),E=n(72982),c=n(20591),P=n(35009),f=n(67634),o=n(14368),b=n(51865),B=n.n(b),d=n(39378),x=n.n(d),i=n(68466),M=n(81133),k=n(18822),D=n(72733),y=n(13045),g=n(56321),R=n(1123),m=n(76287),O=n(93357),I=n(67560),N=n(451),A=n(70668),L=n(90956),K=n(29494),C=n(87033),h=n(73804),T={"cascaderpicker-demo-base":{component:p.memo(p.lazy(function(){return n.e(4430).then(n.bind(n,12969))})),asset:{type:"BLOCK",id:"cascaderpicker-demo-base",refAtomIds:["CascaderPicker"],dependencies:{"index.tsx":{type:"FILE",value:n(11970).Z},react:{type:"NPM",value:"18.3.1"},"../../DemoBlock.tsx":{type:"FILE",value:n(92107).Z},"../cascader-picker.tsx":{type:"FILE",value:n(33570).Z},"../../Button.tsx":{type:"FILE",value:n(59547).Z},"./button.tsx":{type:"FILE",value:n(36039).Z},"./index.scss":{type:"FILE",value:n(49614).Z},classnames:{type:"NPM",value:"2.5.1"},lodash:{type:"NPM",value:"4.17.21"},"./style.scss":{type:"FILE",value:n(8992).Z},"../CascaderView.tsx":{type:"FILE",value:n(60753).Z},"../Popup.tsx":{type:"FILE",value:n(60120).Z},"./cascader-view.tsx":{type:"FILE",value:n(260).Z},"./popup.tsx":{type:"FILE",value:n(22369).Z},"react-dom":{type:"NPM",value:"18.3.1"},"./popup-modal.tsx":{type:"FILE",value:n(85486).Z},"../Tabs.tsx":{type:"FILE",value:n(26479).Z},"./cascader-column.tsx":{type:"FILE",value:n(49309).Z},"@trionesdev/antd-taro-icons-react":{type:"NPM",value:"0.0.1"},"./tab.tsx":{type:"FILE",value:n(17637).Z},"./tabs.tsx":{type:"FILE",value:n(1538).Z},"./cascader-column-item.tsx":{type:"FILE",value:n(89721).Z},"./tab-pane.tsx":{type:"FILE",value:n(62604).Z},"./context.tsx":{type:"FILE",value:n(76202).Z},"./tab-nav.tsx":{type:"FILE",value:n(91936).Z}},entry:"index.tsx"},context:{"../../DemoBlock.tsx":E,"../cascader-picker.tsx":c,"../../Button.tsx":P,"./button.tsx":f,"./index.scss":o,"./style.scss":i,"../CascaderView.tsx":M,"../Popup.tsx":k,"./cascader-view.tsx":D,"./popup.tsx":y,"./popup-modal.tsx":R,"../Tabs.tsx":m,"./cascader-column.tsx":O,"./tab.tsx":N,"./tabs.tsx":A,"./cascader-column-item.tsx":L,"./tab-pane.tsx":K,"./context.tsx":C,"./tab-nav.tsx":h,react:l||(l=n.t(p,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.tsx":E,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/CascaderPicker/cascader-picker.tsx":c,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Button/index.tsx":P,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Button/button.tsx":f,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.scss":o,classnames:b,lodash:d,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Tabs/style.scss":i,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/CascaderView/index.tsx":M,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Popup/index.tsx":k,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/CascaderView/cascader-view.tsx":D,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Popup/popup.tsx":y,"react-dom":s||(s=n.t(g,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Popup/popup-modal.tsx":R,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Tabs/index.tsx":m,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/CascaderView/cascader-column.tsx":O,"@trionesdev/antd-taro-icons-react":I,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Tabs/tab.tsx":N,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Tabs/tabs.tsx":A,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/CascaderView/cascader-column-item.tsx":L,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Tabs/tab-pane.tsx":K,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Tabs/context.tsx":C,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Tabs/tab-nav.tsx":h},renderOpts:{compile:function(){var U=r()(u()().mark(function W(){var S,j=arguments;return u()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,n.e(3483).then(n.bind(n,93483));case 2:return V.abrupt("return",(S=V.sent).default.apply(S,j));case 3:case"end":return V.stop()}},W)}));function w(){return U.apply(this,arguments)}return w}()}}}},67634:function(t,e,n){"use strict";n.r(e),n.d(e,{Button:function(){return P}});var l=n(10154),s=n.n(l),a=n(84176),u=n.n(a),_=n(26452),r=n(44194),p=n(51865),v=n.n(p),E=n(31549),c=["children","block","type","color","danger","disabled","className","style","icon","iconPosition","loading","variant","onClick"],P=function(o){var b=o.children,B=o.block,d=B===void 0?!1:B,x=o.type,i=x===void 0?"default":x,M=o.color,k=o.danger,D=k===void 0?!1:k,y=o.disabled,g=o.className,R=o.style,m=o.icon,O=o.iconPosition,I=O===void 0?"start":O,N=o.loading,A=o.variant,L=o.onClick,K=u()(o,c),C="triones-antm-button",h=M,T=A;return i&&(M||(i==="primary"||i==="link"?h="primary":i==="default"&&(h="default")),A||(i==="primary"?T="solid":i==="default"?T="outlined":(i==="dashed"||i==="link"||i==="text")&&(T=i))),D&&(h="danger"),(0,E.jsxs)("button",{onClick:L,className:v()(C,s()(s()(s()(s()({},"".concat(C,"-block"),d),"".concat(C,"-type-").concat(i),i),"".concat(C,"-color-").concat(h),h),"".concat(C,"-variant-").concat(T),T)),disabled:y,children:[I=="start"&&m,b,I=="end"&&m]})}},35009:function(t,e,n){"use strict";n.r(e);var l=n(67634);e.default=l.Button},20591:function(t,e,n){"use strict";n.r(e),n.d(e,{CascaderPicker:function(){return f}});var l=n(45332),s=n.n(l),a=n(44194),u=n(18822),_=n(51865),r=n.n(_),p=n(39378),v=n.n(p),E=n(81133),c=n(31549),P="triones-antm-cascader-picker",f=a.memo(function(o){var b=o.className,B=o.style,d=o.open,x=o.afterOpenChange,i=o.title,M=o.options,k=o.labelInValue,D=k===void 0?!1:k,y=o.value,g=o.onOk,R=o.onCancel,m=o.onClose,O=(0,a.useState)(y),I=s()(O,2),N=I[0],A=I[1],L=a.useState(d||!1),K=s()(L,2),C=K[0],h=K[1],T=function(){h(!1),m==null||m()},U=function(){g==null||g(N),T()},w=function(){R==null||R(),T()};return(0,a.useEffect)(function(){x==null||x(C)},[C]),(0,a.useEffect)(function(){d!=null&&d!=C&&h(d)},[d]),(0,a.useEffect)(function(){y!=null&&(v().isEqual(y,N)||A(y))},[y]),(0,c.jsx)(u.default,{open:C,afterOpenChange:function(S){h(S)},styles:{body:{borderTopLeftRadius:6,borderTopRightRadius:6}},children:(0,c.jsxs)("div",{className:r()(P,b),style:B,children:[(0,c.jsxs)("div",{className:r()("".concat(P,"-header")),children:[(0,c.jsx)("a",{className:r()("".concat(P,"-header-button")),onClick:w,children:"\u53D6\u6D88"}),i&&(0,c.jsx)("div",{className:r()("".concat(P,"-header-title")),children:i}),(0,c.jsx)("a",{className:r()("".concat(P,"-header-button")),onClick:U,children:"\u786E\u5B9A"})]}),(0,c.jsx)("div",{className:r()("".concat(P,"-body")),children:(0,c.jsx)(E.default,{options:M,labelInValue:D,value:N,onChange:A,style:{height:"100%"}})})]})})})},72982:function(t,e,n){"use strict";n.r(e),n.d(e,{DemoBlock:function(){return u}});var l=n(44194),s=n(14368),a=n(31549),u=function(r){return(0,a.jsxs)("div",{className:"demoBlock",children:[(0,a.jsx)("div",{className:"demoTitle",children:r.title}),(0,a.jsx)("div",{className:"demoMain",style:{padding:"12px 12px",background:"#ffffff"},children:r.children})]})}},18822:function(t,e,n){"use strict";n.r(e);var l=n(13045);e.default=l.Popup},1123:function(t,e,n){"use strict";n.r(e),n.d(e,{PopupModal:function(){return c}});var l=n(45332),s=n.n(l),a=n(44194),u=n(51865),_=n.n(u),r=n(28464),p=n(67560),v=n(31549),E="triones-antm-popup",c=function(f){var o=f.children,b=f.styles,B=f.afterClose,d=f.open,x=f.position,i=x===void 0?"bottom":x,M=f.closable,k=M===void 0?!1:M,D=f.maskClosable,y=D===void 0?!0:D,g=f.destroyOnClose,R=g===void 0?!1:g,m=f.zIndex,O=m===void 0?1e3:m,I=f.afterOpenChange,N=f.onDestroy,A=a.useState(d||!1),L=s()(A,2),K=L[0],C=L[1],h=function(){C(!1),B==null||B()};return(0,a.useEffect)(function(){I==null||I(K),K||R&&(N==null||N())},[K]),(0,a.useEffect)(function(){d!=null&&d!=K&&C(d)},[d]),(0,v.jsxs)("div",{className:_()(E),style:{zIndex:O,display:K?"block":"none"},children:[(0,v.jsx)("div",{className:_()("".concat(E,"-mask")),onClick:function(){y&&h()}}),(0,v.jsxs)("div",{className:_()("".concat(E,"-body"),"".concat(E,"-").concat(i)),style:b==null?void 0:b.body,children:[k&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(p.CloseOutline,{className:_()("".concat(E,"-close")),onClick:function(){h()}})}),o]})]})}},13045:function(t,e,n){"use strict";n.r(e),n.d(e,{Popup:function(){return f}});var l=n(73193),s=n.n(l),a=n(45332),u=n.n(a),_=n(84176),r=n.n(_),p=n(44194),v=n(56321),E=n(1123),c=n(31549),P=["children","getContainer","open"],f=function(b){var B=b.children,d=b.getContainer,x=b.open,i=x===void 0?!1:x,M=r()(b,P),k=p.useState(!1),D=u()(k,2),y=D[0],g=D[1],R=p.useRef(null),m=p.useRef(null),O=(d==null?void 0:d())||R.current,I=function(){m.current||(m.current=document.createElement("div"),O.appendChild(m.current));var A=function(){O&&m.current&&O.removeChild(m.current),m.current=null,g(!1)};return(0,c.jsx)(c.Fragment,{children:(0,v.createPortal)((0,c.jsx)(E.PopupModal,s()(s()({},M),{},{onDestroy:A,open:i,children:B})),m.current)})};return(0,p.useEffect)(function(){i&&!y&&g(!0)},[i]),(0,c.jsxs)(c.Fragment,{children:[!(d!=null&&d())&&(0,c.jsx)("div",{ref:R}),y&&(0,c.jsx)(I,{})]})}},26452:function(t,e,n){"use strict";n.r(e)},14368:function(t,e,n){"use strict";n.r(e)},28464:function(t,e,n){"use strict";n.r(e)},23987:function(t,e,n){"use strict";n.r(e),n.d(e,{texts:function(){return s}});var l=n(74927);const s=[]},36039:function(t,e){"use strict";e.Z=`import "./style.scss"
import React, { FC, MouseEventHandler } from "react";
import classNames from "classnames";

export type ButtonProps = {
  children?: React.ReactNode
  /**
   * block \u6309\u94AE\u5BBD\u9AD8\u81EA\u9002\u5E94
   */
  block?: boolean
  /**
   * \u989C\u8272
   */
  color?: 'default' | 'primary' | 'success' | 'warning' | 'danger'
  /**
   * \u662F\u5426\u5371\u9669\u6309\u94AE\uFF0C\u4F1A\u4F7F\u7528 danger \u7684\u989C\u8272
   */
  danger?: boolean
  /**
   * \u662F\u5426\u7981\u7528
   */
  disabled?: boolean
  /**
   * \u5E7D\u7075\u6309\u94AE
   */
  ghost?: boolean
  type?: 'primary' | 'dashed' | 'link' | 'text' | 'default'
  className?: string,
  style?: React.CSSProperties
  icon?: React.ReactNode
  iconPosition?: 'start' | 'end'
  loading?: boolean
  variant?: 'outlined' | 'dashed' | 'solid' | 'filled' | 'text' | 'link',
  onClick?: MouseEventHandler<HTMLButtonElement>
}


export const Button: FC<ButtonProps> = (
  {
    children,
    block = false,
    type = 'default',
    color,
    danger = false,
    disabled,
    className,
    style,
    icon,
    iconPosition = 'start',
    loading,
    variant,
    onClick,
    ...props
  }
) => {
  const clsPrefix = "triones-antm-button"
  let finalColor = color
  let finalVariant = variant
  if (type) {
    if (!color) {
      if (type === 'primary' || type === 'link') {
        finalColor = 'primary'
      } else if (type === 'default') {
        finalColor = 'default'
      }
    }
    if (!variant) {
      if (type === 'primary') {
        finalVariant = 'solid'
      } else if (type === 'default') {
        finalVariant = 'outlined'
      } else if (type === 'dashed' || type === 'link' || type === 'text') {
        finalVariant = type
      }
    }

  }
  if (danger) {
    finalColor = 'danger'
  }
  return <button
    onClick={onClick}
    className={classNames(clsPrefix,
      {
        [\`\${clsPrefix}-block\`]: block,
        [\`\${clsPrefix}-type-\${type}\`]: type,
        [\`\${clsPrefix}-color-\${finalColor}\`]: finalColor,
        [\`\${clsPrefix}-variant-\${finalVariant}\`]: finalVariant,

      })}
    disabled={disabled}>
    {iconPosition == 'start' && icon}
    {children}
    {iconPosition == 'end' && icon}
  </button>
}
`},59547:function(t,e){"use strict";e.Z=`import {Button, ButtonProps} from "./button";

export type {ButtonProps}
export default Button
`},33570:function(t,e){"use strict";e.Z=`import React, {FC, useEffect, useState} from "react"
import Popup from "../Popup";
import classNames from "classnames";
import "./style.scss"
import _ from "lodash";
import PickerView, {PickerColumnOption} from "../PickerView";
import CascaderView from "../CascaderView";

const cascaderPickerCls = "triones-antm-cascader-picker";

export type CascaderPickerProps = {
  className?: string;
  style?: React.CSSProperties;
  open?: boolean
  afterOpenChange?: (open: boolean) => void;
  title?: React.ReactNode
  options?: any[]
  /**
   * @description \u662F\u5426\u628A\u6BCF\u4E2A\u9009\u9879\u7684 label \u5305\u88C5\u5230 value \u4E2D\uFF0C\u4F1A\u628A Select \u7684 value \u7C7B\u578B\u4ECE string \u53D8\u4E3A { value: string, label: ReactNode } \u7684\u683C\u5F0F
   * @default false
   */
  labelInValue?: boolean
  value?: any[],
  onOk?: (value?: any[]) => void,
  onCancel?: () => void,
  onClose?: () => void,
}

export const CascaderPicker: FC<CascaderPickerProps> = React.memo(({
                                                                     className,
                                                                     style,
                                                                     open,
                                                                     afterOpenChange,
                                                                     title,
                                                                     options,
                                                                     labelInValue = false,
                                                                     value, onOk,
                                                                     onCancel,
                                                                     onClose
                                                                   }) => {
  const [internalValue, setInternalValue] = useState(value)
  const [innerOpen, setInnerOpen] = React.useState(open || false);
  const handleClose = () => {
    setInnerOpen(false)
    onClose?.()
  }
  const handleOk = () => {
    onOk?.(internalValue)
    handleClose()
  }

  const handelCancel = () => {
    onCancel?.()
    handleClose()
  }

  useEffect(() => {
    afterOpenChange?.(innerOpen)
  }, [innerOpen]);

  useEffect(() => {
    if (open == undefined) {
      return;
    }
    if (open == innerOpen) {
      return;
    }
    setInnerOpen(open)
  }, [open]);

  useEffect(() => {
    if (value == undefined) {
      return;
    }
    if (_.isEqual(value, internalValue)) {
      return;
    }
    setInternalValue(value)
  }, [value])

  return <Popup open={innerOpen} afterOpenChange={(o) => {
    setInnerOpen(o)
  }} styles={{
    body: {
      borderTopLeftRadius: 6,
      borderTopRightRadius: 6,
    }
  }}>
    <div className={classNames(cascaderPickerCls, className)} style={style}>
      <div className={classNames(\`\${cascaderPickerCls}-header\`)}>
        <a className={classNames(\`\${cascaderPickerCls}-header-button\`)} onClick={handelCancel}>\u53D6\u6D88</a>
        {title && <div className={classNames(\`\${cascaderPickerCls}-header-title\`)}>{title}</div>}
        <a className={classNames(\`\${cascaderPickerCls}-header-button\`)} onClick={handleOk}>\u786E\u5B9A</a>
      </div>
      <div className={classNames(\`\${cascaderPickerCls}-body\`)}>
        <CascaderView options={options} labelInValue={labelInValue} value={internalValue} onChange={setInternalValue}
                      style={{height: '100%'}}/>
      </div>
    </div>
  </Popup>
})
`},11970:function(t,e){"use strict";e.Z=`import React from "react"
import {DemoBlock} from "../../DemoBlock";
import Button from "../../Button";
import {CascaderPicker} from "../cascader-picker";

export default () => {
  const [open, setOpen] = React.useState(false);
  const options = [
    {
      value: "jiangsu",
      label: "\u6C5F\u82CF",
      children: [
        {
          value: "nanjing",
          label: '\u5357\u4EAC',
        },
        {
          value: "wuxi",
          label: '\u65E0\u9521',
        }, {
          value: "changzhou",
          label: '\u5E38\u5DDE',
        }, {
          value: "suzhou",
          label: '\u82CF\u5DDE',
          children: [
            {
              value: "gushu",
              label: '\u59D1\u82CF\u533A'
            }
          ]
        },
      ]
    },
    {
      value: "zhejiang",
      label: "\u6D59\u6C5F",
      children: [
        {
          value: "hangzhou",
          label: '\u676D\u5DDE',
        },
        {
          value: "wenzhou",
          label: '\u6E29\u5DDE',
        }
      ]
    },
    {
      value: "shanghai",
      label: "\u4E0A\u6D77"
    },
    {
      value: "shandong",
      label: '\u5C71\u4E1C'
    },
    {
      value: "henan",
      label: '\u6CB3\u5357'
    },
    {
      value: "hebei",
      label: '\u6CB3\u5317'
    },
    {
      value: "hunan",
      label: '\u6E56\u5357'
    },
    {
      value: "hubei",
      label: '\u6E56\u5317'
    }
  ]
  return <>
    <DemoBlock title={\`\u57FA\u672C\u4F7F\u7528\`}>
      <CascaderPicker open={open} afterOpenChange={(o) => {
        setOpen(o);
      }} options={options} onOk={(value) => {
        console.log(value);
      }} style={{height: 300}}/>
      <Button block={true} onClick={() => {
        setOpen(true);
      }}>
        \u7EA7\u8054\u9009\u62E9
      </Button>
    </DemoBlock>
  </>
}
`},89721:function(t,e){"use strict";e.Z=`import React from "react";
import {FC} from "react";
import classNames from "classnames";
import { CheckOutline } from "@trionesdev/antd-taro-icons-react";

const cascaderViewCls = 'triones-antm-cascader-view'

type CascaderColumnItemProps = {
  option: any
  onClick?: (option: any) => void
  selected?: boolean
}
export const CascaderColumnItem: FC<CascaderColumnItemProps> = ({
                                                                  option,
                                                                  onClick,
                                                                  selected
                                                                }) => {
  return <div
    className={classNames(\`\${cascaderViewCls}-column-item\`, {[\`\${cascaderViewCls}-column-item-selected\`]: selected})}
    onClick={() => {
      onClick?.(option)
    }}>
    <div>{option.label}</div>
    {selected && <><CheckOutline/></>}
  </div>
}
`},49309:function(t,e){"use strict";e.Z=`import React from "react";
import {FC} from "react";
import {CascaderColumnItem} from "./cascader-column-item";
import classNames from "classnames";

const cascaderViewCls = 'triones-antm-cascader-view'
type CascaderColumnProps = {
  index?: number
  options: any[],
  value: any
  labelInValue?: boolean
  onSelect?: (option: any, columnIndex: number) => void
}
export const CascaderColumn: FC<CascaderColumnProps> = ({
                                                          index = 0,
                                                          options,
                                                          value,
                                                          labelInValue = false,
                                                          onSelect,
                                                        }) => {
  const handleOnSelect = (option: any) => {
    onSelect?.(option, index);
  }

  return <div className={classNames(\`\${cascaderViewCls}-column\`)}>
    {options.map((option: any, index: number) => {
      return <CascaderColumnItem key={index} option={option} selected={value?.value == option.value} onClick={() => {
        handleOnSelect(option)
      }}/>;
    })}
  </div>
}
`},260:function(t,e){"use strict";e.Z=`import React, {CSSProperties, FC, useEffect, useState} from "react"
import classNames from "classnames";
import Tabs from "../Tabs";
import {CascaderColumn} from "./cascader-column";
import "./style.scss"
import _ from "lodash";
import {Column} from "./types";

const cascaderViewCls = 'triones-antm-cascader-view'

export type CascaderViewProps = {
  className?: string,
  style?: CSSProperties,
  options?: any[]
  labelInValue?: boolean
  value?: any
  onChange?: (value: any) => void;
  asyncRequest?: (parentValue?: any) => Promise<any>;
}
export const CascaderView: FC<CascaderViewProps> = ({
                                                      className,
                                                      style,
                                                      options,
                                                      labelInValue = false,
                                                      value,
                                                      onChange,
                                                      asyncRequest,
                                                    }) => {
  const [activeKey, setActiveKey] = useState<any>();
  const [columns, setColumns] = useState<Column[]>([])
  const [tabItems, setTabItems] = useState<any>([])
  const [internalValue, setInternalValue] = useState<any>(value || [])

  const handleComputeValue = (columns: Column[]) => {
    return columns.map(column => {
      if (labelInValue) {
        return column.value
      } else {
        return column.value?.value
      }
    })
  }

  const handleSelect = (option: any, index: number) => {
    if (_.isEqual(option?.value, columns[index]?.value?.value)) {
      return
    }
    const newColumns: any[] = []
    Array.from({length: index + 1}, (_, i) => i).forEach((i) => {
      if (i == index) {
        newColumns.push({value: option, options: columns[i].options})
      } else {
        newColumns.push(columns[i])
      }
    })
    if (!_.isEmpty(option.children)) {
      newColumns.push({options: option.children})
      setActiveKey(\`\${index + 1}\`)
    } else {
      asyncRequest?.().then((data: any) => {
        if (_.isArray(data) && !_.isEmpty(data)) {
          _.set(option, ['children'], data)
          newColumns.push({options: option.children})
          setActiveKey(\`\${index + 1}\`)
        }
      })
    }
    setColumns(newColumns)
    const columnsValues = handleComputeValue(newColumns)
    setInternalValue(columnsValues)
    onChange?.(columnsValues)
  }

  useEffect(() => {
    if (options && !_.isEmpty(options)) {
      const column = {
        value: null,
        options
      }
      setColumns([column])
    } else {
      asyncRequest?.().then((data: any) => {
        if (_.isArray(data) && !_.isEmpty(data)) {
          const column: Column = {
            value: null,
            options: data
          }
          setColumns([column])
        }
      })
    }
  }, [options]);

  const handleNewColumnsByValue = async () => {
    const newColumns: any[] = [...columns]
    _.forEach(internalValue, async (item, index: number) => {

      if (index <= _.size(newColumns) - 1) {
        const columnValue = labelInValue ? item : _.find(newColumns[index].options, (option) => {
          return option.value === item;
        })
        newColumns[index].value = columnValue
        let option = _.find(newColumns[index].options, (option) => {
          return option.value === columnValue?.value;
        })
        if (option) {
          if (!_.isEmpty(option?.children)) {
            _.set(newColumns, [index + 1, 'options'], option?.children)
          } else {
            await asyncRequest?.(option).then((data: any) => {
              if (_.isArray(data) && !_.isEmpty(data)) {
                _.set(option!, ['children'], data)
                _.set(newColumns, [index + 1, 'options'], option?.children)
              }
            })
          }
        }
      }
    })
    return newColumns
  }

  useEffect(() => {
    if (internalValue == undefined) {
      return
    }
    if (_.isEmpty(columns)) {
      return;
    }
    const currentValue = handleComputeValue(columns)

    if (_.isEqual(currentValue, internalValue)) {
      return;
    }
    if (_.isEmpty(columns)) {
      return;
    }
    handleNewColumnsByValue().then((newColumns) => {
      if (!_.isEqual(handleComputeValue(newColumns), handleComputeValue(columns))) {
        setColumns([...newColumns])
      }
      setActiveKey(\`\${_.size(newColumns) - 1}\`)
    })
  }, [internalValue, columns]);

  useEffect(() => {
    if (value == undefined) {
      return
    }
    if (_.isEqual(value,internalValue)){
      return;
    }
    setInternalValue(value)
  }, [value])

  useEffect(() => {
    if (!_.isEmpty(columns)) {
      const items = columns.map((column, index: number) => {
        return {
          key: \`\${index}\`,
          label: column.value?.label || '\u8BF7\u9009\u62E9',
          children: <CascaderColumn index={index} labelInValue={labelInValue}
                                    options={column.options}
                                    value={column.value}
                                    onSelect={handleSelect}/>
        }
      })
      setTabItems(items)
    }
  }, [columns]);

  return <div className={classNames(cascaderViewCls, className)} style={style}>
    <Tabs activeKey={activeKey} onChange={setActiveKey} items={tabItems} stretch={false} style={{height: '100%'}}/>
  </div>
}
`},60753:function(t,e){"use strict";e.Z=`import {CascaderView,CascaderViewProps} from "./cascader-view"

export type {
  CascaderViewProps,
}
export default CascaderView
`},49614:function(t,e){"use strict";e.Z=`.demoBlock {
  font-size: 14px;
  margin-bottom: 12px;
  &:last-of-type {
    padding-bottom: 32px;
  }
  scrollbar-width: thin;
}

.demoTitle {
  padding: 12px 12px 8px;
  color: #697b8c;
  font-size: 14px;
  background: #fafbfc;
}

.demoMain {
  border-right: none;
  border-left: none;
}
`},92107:function(t,e){"use strict";e.Z=`import React from 'react'
import type { FC, ReactNode } from 'react'
import './index.scss'

interface Props {
  title: string
  padding?: string
  background?: string
  children?: ReactNode
}

export const DemoBlock: FC<Props> = props => {
  return (
    <div className='demoBlock'>
      <div className='demoTitle'>{props.title}</div>
      <div
        className='demoMain'
        style={{
          padding: '12px 12px',
          background: '#ffffff',
        }}
      >
        {props.children}
      </div>
    </div>
  )
}
`},60120:function(t,e){"use strict";e.Z=`import {Popup,PopupProps} from "./popup";

export type {PopupProps}
export default Popup;
`},85486:function(t,e){"use strict";e.Z=`import React, {CSSProperties, FC, PropsWithChildren, useEffect} from "react";
import classNames from "classnames";
import "./style.scss"
import {CloseOutline} from "@trionesdev/antd-taro-icons-react";

const popupCls = "triones-antm-popup";

export type Position = "top" | "bottom" | "left" | "right";


export type PopupModalProps = {
  /**
   * @description \u6837\u5F0F
   * @default horizontal
   */
  styles?: {
    body?: CSSProperties;
  }
  /**
   * @description Modal \u5B8C\u5168\u5173\u95ED\u540E\u7684\u56DE\u8C03
   * @default
   */
  afterClose?: () => void;
  /**
   * @description \u662F\u5426\u6253\u5F00
   * @default false
   */
  open?: boolean,
  /**
   * @description \u6253\u5F00\u4F4D\u7F6E
   * @default bottom
   */
  position?: Position
  /**
   * @description \u662F\u5426\u53EF\u4EE5\u5173\u95ED(\u663E\u793A\u5173\u95ED\u6309\u94AE)
   * @default false
   */
  closable?: boolean
  /**
   * @description \u662F\u5426\u8499\u5C42\u5173\u95ED
   * @default true
   */
  maskClosable?: boolean
  /**
   * @description \u5173\u95ED\u65F6\u9500\u6BC1 Modal \u91CC\u7684\u5B50\u5143\u7D20
   * @default false
   */
  destroyOnClose?: boolean
  /**
   * @description \u8BBE\u7F6E Modal \u7684 z-index
   * @default 1000
   */
  zIndex?: number;
  /**
   * @description \u6253\u5F00\u548C\u5173\u95ED Modal \u65F6\u52A8\u753B\u7ED3\u675F\u540E\u7684\u56DE\u8C03
   * @default
   */
  afterOpenChange?: (open: boolean) => void;
  onDestroy?: () => void;

}

export const PopupModal: FC<PropsWithChildren<PopupModalProps>> = ({
                                                                     children,
                                                                     styles,
                                                                     afterClose,
                                                                     open,
                                                                     position = 'bottom',
                                                                     closable = false,
                                                                     maskClosable = true,
                                                                     destroyOnClose = false,
                                                                     zIndex = 1000,
                                                                     afterOpenChange,
                                                                     onDestroy
                                                                   }) => {
  const [internalOpen, setInternalOpen] = React.useState<boolean>(open || false);
  const handleClose = () => {
    setInternalOpen(false);
    afterClose?.()
  }

  useEffect(() => {
    afterOpenChange?.(internalOpen!);
    if (!internalOpen) {
      if (destroyOnClose) {
        onDestroy?.()
      }
    }
  }, [internalOpen]);

  useEffect(() => {
    if (open == undefined) {
      return
    }
    if (open == internalOpen) {
      return;
    }
    setInternalOpen(open);
  }, [open]);

  return <div className={classNames(popupCls)} style={{zIndex, display: internalOpen ? 'block' : 'none'}}>
    <div className={classNames(\`\${popupCls}-mask\`)} onClick={() => {
      if (maskClosable) {
        handleClose();
      }
    }}></div>
    <div className={classNames(\`\${popupCls}-body\`, \`\${popupCls}-\${position}\`)} style={styles?.body}>
      {closable && <>
        <CloseOutline className={classNames(\`\${popupCls}-close\`)} onClick={() => {
          handleClose()
        }}/>
      </>}
      {children}
    </div>
  </div>
}
`},22369:function(t,e){"use strict";e.Z=`import React, {FC, PropsWithChildren, useEffect} from "react";
import {createPortal} from "react-dom";
import {PopupModal, PopupModalProps} from "./popup-modal";


export type PopupProps = Omit<PopupModalProps, 'onDestroy'> & {
  /**
   * @description \u83B7\u53D6\u5BB9\u5668
   * @default null
   */
  getContainer?: () => HTMLElement,
}
export const Popup: FC<PropsWithChildren<PopupProps>> = ({
                                                           children,
                                                           getContainer,
                                                           open = false,
                                                           ...rest
                                                         }) => {
  const [renderEnable, setRenderEnable] = React.useState(false);
  const containerRef = React.useRef<HTMLDivElement>(null);
  const mountRef = React.useRef<HTMLDivElement | null>(null);
  const rootContainer = getContainer?.() || containerRef.current!;

  const Portal = () => {
    if (!mountRef.current) {
      mountRef.current = document.createElement("div");
      rootContainer.appendChild(mountRef.current);
    }

    const destroy = () => {
      if (rootContainer && mountRef.current) {
        rootContainer.removeChild(mountRef.current);
      }
      mountRef.current = null;
      setRenderEnable(false);
    }

    return <>{createPortal(<PopupModal {...rest} onDestroy={destroy}
                                       open={open}>{children}</PopupModal>, mountRef.current!)}</>

  }

  useEffect(() => {
    if (open && !renderEnable) {
      setRenderEnable(true);
    }
  }, [open]);


  return <>
    {!getContainer?.() && <div ref={containerRef}></div>}
    {renderEnable && <Portal/>}</>;
}
`},76202:function(t,e){"use strict";e.Z=`import {createContext} from "react";
import {TabItemProps} from "./tab";

type TabsContextType = {
  activeKey?: string
  setActiveKey?: (activeKey?: string) => void
  items: TabItemProps[]
  setItems?: (tabItems: TabItemProps[]) => void
  addItem?: (tabItem: TabItemProps) => void
}
export const TabsContext = createContext<TabsContextType>({
  items: []
})
`},26479:function(t,e){"use strict";e.Z=`import {Tabs as InternalTabs,TabsProps} from "./tabs"
import {Tab} from "./tab";

type InternalTabsType = typeof InternalTabs
type CompoundedComponent = InternalTabsType & {
  Tab: typeof Tab
}


export type {
  TabsProps
}
const Tabs = InternalTabs as CompoundedComponent
Tabs.Tab = Tab
export default Tabs;
`},8992:function(t,e){"use strict";e.Z=`$tabsCls: 'triones-antm-tabs';

.#{$tabsCls} {
  display: flex;
  flex-direction: column;
  &-nav {
    position: relative;
    display: flex;
    flex: none;
    align-items: center;

    &::before {
      bottom: 0;
      position: absolute;
      right: 0;
      left: 0;
      border-bottom: 1Px solid #f0f0f0;
      content: ' ';
    }

    &-wrap {
      //position: relative;
      //display: flex;
      //flex: auto;
      //align-self: stretch;
      //overflow: hidden;
      //white-space: nowrap;
      //transform: translate(0);
      width: 100%;
    }

    &-list {
      position: relative;
      display: flex;
      flex: auto;
      overflow-y: auto;
      scrollbar-width: none;
    }
  }

  &-ink-bar {
    position: absolute;
    bottom: 0;
    background-color: #1677ff;
    height: 2px;
    //width: 100px;
    &-animated {

    }
  }

  &-tab {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 10Px 10Px;
    font-size: 14Px;
    background: transparent;
    border: 0;
    outline: none;
    cursor: pointer;
    color: rgba(0, 0, 0, 0.88);
    white-space: nowrap;

    &-stretch {
      flex: auto;
    }

    &-active {
      color: #1677ff;
      &::after{
        content: ' ';
        position: absolute;
        bottom: 0;
        width: calc(100% - 0.24rem * 2);
        height: 0.04rem;
        overflow: hidden;
        font-size: 0;
        border-radius: 50vh;
        box-sizing: border-box;
        background-color: var(--tabs-active-decorate-color, #1677ff);
      }
    }

  }

  &-content-holder {
    flex: auto;
    overflow: hidden;
    .#{$tabsCls} {
      &-content {
        height: 100%;
      }
    }
  }

  &-tab-pane {
    height: 100%;
    display: none;

    &-active {
      display: block;
    }
  }
}

`},91936:function(t,e){"use strict";e.Z=`import React, {FC, MouseEvent, useEffect, useRef} from "react";
import classNames from "classnames";

const tabsCls = \`triones-antm-tabs\`

type TabNavProps = {
  label?: React.ReactNode;
  active?: boolean;
  stretch?: boolean;
  onClick?: (e: MouseEvent<HTMLDivElement>) => void;
}
export const TabNav: FC<TabNavProps> = ({label, active, stretch, onClick}) => {
  const tabNavRef = useRef<HTMLDivElement>(null);
  const tabNavInnerRef = useRef<HTMLDivElement>(null);

  return <div ref={tabNavRef} className={classNames(\`\${tabsCls}-tab\`, {
    [\`\${tabsCls}-tab-active\`]: active,
    [\`\${tabsCls}-tab-stretch\`]: stretch
  })}
              onClick={(e) => {
                onClick?.(e)
              }}
  >
    <div ref={tabNavInnerRef} className={classNames(\`\${tabsCls}-tab-inner\`)}>{label}</div>
  </div>
}
`},62604:function(t,e){"use strict";e.Z=`import classNames from "classnames";
import React, {FC, useContext} from "react";
import {TabsContext} from "./context";

const tabsCls = \`triones-antm-tabs\`

type  TabPaneProps = {
  children: React.ReactNode,
  tabKey: string
}
export const TabPane: FC<TabPaneProps> = ({children, tabKey}) => {
  const {activeKey} = useContext(TabsContext)
  return <div className={classNames(\`\${tabsCls}-tab-pane\`, {[\`\${tabsCls}-tab-pane-active\`]: activeKey == tabKey})}>
    {children}
  </div>
}
`},17637:function(t,e){"use strict";e.Z=`import React, {FC} from "react"

export type TabItemProps = {
  children?: React.ReactNode
  key: string
  label?: React.ReactNode
}
export const Tab: FC<TabItemProps> = ({children, key, label}) => {
  return null
}
`},1538:function(t,e){"use strict";e.Z=`import React, {FC, MouseEvent, useEffect, useReducer, useRef, useState} from "react"
import {Tab, TabItemProps} from "./tab";
import classNames from "classnames";
import {TabsContext} from "./context";
import "./style.scss"
import {TabNav} from "./tab-nav";
import {TabPane} from "./tab-pane";
import _ from "lodash";

export type TabsProps = {
  children?: React.ReactNode
  className?: string
  style?: React.CSSProperties
  activeKey?: string
  defaultActiveKey?: string
  stretch?: boolean
  items?: TabItemProps[]
  onTabClick?: (key: string, e: MouseEvent) => void
  onChange?: (activeKey?: string) => void

}

const tabsCls = \`triones-antm-tabs\`

enum ITEMS_ACTION {
  SET_ITEMS,
  ADD_ITEM,
}

export const Tabs: FC<TabsProps> = ({
                                      children,
                                      className,
                                      style,
                                      activeKey,
                                      defaultActiveKey,
                                      stretch = true,
                                      items,
                                      onTabClick,
                                      onChange
                                    }) => {
  const tabNavRef = useRef<HTMLDivElement>(null);
  const [line, setLine] = useState<{ left: number, width: number } | undefined>()
  const [internalActiveKey, setInternalActiveKey] = useState<string | undefined>(activeKey || defaultActiveKey || items?.[0]?.key)
  const [internalItems, dispatch] = useReducer((prevState: TabItemProps[], action: any) => {
    switch (action.type) {
      case ITEMS_ACTION.SET_ITEMS:
        return action.payload;
      case ITEMS_ACTION.ADD_ITEM:
        return [...prevState, action.payload];
    }
    return prevState
  }, (items || []))

  const handleTabClick = (key: string, e: MouseEvent<any>) => {
    onTabClick?.(key, e)
    setInternalActiveKey(key)
  }

  const handleSetItems = (items: any) => {
    dispatch({type: ITEMS_ACTION.SET_ITEMS, payload: items})
  }

  const handleAddItem = (item: any) => {
    dispatch({type: ITEMS_ACTION.ADD_ITEM, payload: item})
  }

  const handleChange = (activeKey?:any) => {
    onChange?.(activeKey)
  }

  useEffect(() => {
    if (activeKey == undefined) {
      return
    }
    if (activeKey == internalActiveKey) {
      return;
    }
    setInternalActiveKey(activeKey)
  }, [activeKey])


  useEffect(() => {
    if (items == undefined) {
      return;
    }
    if (_.isEqual(items, internalItems)) {
      return;
    }
    handleSetItems(items)
  }, [items]);

  useEffect(() => {
    if (internalActiveKey){
      if (!items?.map(item => item.key).includes(internalActiveKey)){
        setInternalActiveKey(items?.[0]?.key)
        handleChange(items?.[0]?.key)
      }
    }else {
      setInternalActiveKey(items?.[0]?.key)
      handleChange(items?.[0]?.key)
    }
  }, [internalActiveKey,internalItems]);

  useEffect(() => {
    if (children) {
      if (_.isArray(children)) {
        const tabItems = children.filter(tab => {
          return tab.type == Tab
        }).map((tab) => {
          return {
            key: tab.key,
            label: tab.props.label,
            children: tab.props.children,
          }
        })
        handleSetItems(tabItems)
        setInternalActiveKey(activeKey || defaultActiveKey || tabItems?.[0].key)
      }
    }
  }, [children]);

  return <TabsContext.Provider
    value={{
      activeKey: internalActiveKey,
      setActiveKey: setInternalActiveKey,
      items: internalItems || [],
      setItems: handleSetItems,
      addItem: handleAddItem,
    }}>
    <div className={classNames(tabsCls, className)} style={style}>
      <div className={classNames(\`\${tabsCls}-nav\`)}>
        <div className={classNames(\`\${tabsCls}-nav-wrap\`)}>
          <div ref={tabNavRef} className={classNames(\`\${tabsCls}-nav-list\`)}>
            <div className={classNames(\`\${tabsCls}-ink-bar\`, \`\${tabsCls}-ink-bar-animated\`)}
                 style={{left: line?.left, width: line?.width}}/>
            {!_.isEmpty(internalItems) && internalItems?.map((item: any, index: number) => {
              return <TabNav active={internalActiveKey == item.key} stretch={stretch} label={item.label} key={index}
                             onClick={(e) => {
                               handleTabClick(item.key, e)
                             }}
              />
            })}
          </div>
        </div>
      </div>
      <div className={classNames(\`\${tabsCls}-content-holder\`)}>
        <div className={classNames(\`\${tabsCls}-content\`)}>
          {!_.isEmpty(internalItems) && internalItems?.map((item: any, index: number) => {
            return <TabPane key={item.key} tabKey={item.key} children={item.children}/>
          })}
        </div>
      </div>
    </div>
  </TabsContext.Provider>
}
`},78445:function(t,e,n){var l=n(88513);function s(a){if(Array.isArray(a))return l(a)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},26431:function(t){function e(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},93647:function(t){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},84176:function(t,e,n){var l=n(75863);function s(a,u){if(a==null)return{};var _=l(a,u),r,p;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(a);for(p=0;p<v.length;p++)r=v[p],!(u.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(_[r]=a[r])}return _}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},75863:function(t){function e(n,l){if(n==null)return{};var s={},a=Object.keys(n),u,_;for(_=0;_<a.length;_++)u=a[_],!(l.indexOf(u)>=0)&&(s[u]=n[u]);return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},76711:function(t,e,n){var l=n(78445),s=n(26431),a=n(15274),u=n(93647);function _(r){return l(r)||s(r)||a(r)||u()}t.exports=_,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
