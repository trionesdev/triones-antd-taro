(self.webpackChunk_trionesdev_antd_taro_react=self.webpackChunk_trionesdev_antd_taro_react||[]).push([[9163],{34211:function(e,t,n){"use strict";var d;n.r(t),n.d(t,{demos:function(){return b}});var l=n(90819),r=n.n(l),s=n(89933),i=n.n(s),a=n(44194),c=n(63120),f=n(70792),u=n(8913),h=n(93977),x=n(37180),p=n(70496),_=n(51865),N=n.n(_),M=n(38034),D=n(57858),o=n(96858),v=n(49387),O=n(91518),b={"src-water-mark-demo-demo1":{component:a.memo(a.lazy(function(){return Promise.all([n.e(9378),n.e(3849),n.e(1588),n.e(7311),n.e(1715),n.e(9985),n.e(9842),n.e(2433)]).then(n.bind(n,59459))})),asset:{type:"BLOCK",id:"src-water-mark-demo-demo1",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(78579).Z},react:{type:"NPM",value:"18.3.1"},"../index.ts":{type:"FILE",value:n(46099).Z},"./demo1.scss":{type:"FILE",value:n(91198).Z},"../../Button.tsx":{type:"FILE",value:n(77306).Z},"./button.tsx":{type:"FILE",value:n(6458).Z},"./water-mark.tsx":{type:"FILE",value:n(60053).Z},classnames:{type:"NPM",value:"2.5.1"},"./style.scss":{type:"FILE",value:n(25242).Z},"../utils/native-props.ts":{type:"FILE",value:n(12636).Z},"../utils/with-default-props.tsx":{type:"FILE",value:n(62055).Z}},entry:"index.tsx"},context:{"../index.ts":f,"./demo1.scss":u,"../../Button.tsx":h,"./button.tsx":x,"./water-mark.tsx":p,"./style.scss":M,"../utils/native-props.ts":D,"../utils/with-default-props.tsx":o,react:d||(d=n.t(a,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/WaterMark/index.ts":f,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/WaterMark/demo/demo1.scss":u,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Button/index.tsx":h,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/Button/button.tsx":x,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/WaterMark/water-mark.tsx":p,classnames:_,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/WaterMark/style.scss":M,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/native-props.ts":D,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/with-default-props.tsx":o},renderOpts:{compile:function(){var B=i()(r()().mark(function L(){var I,E=arguments;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,n.e(4521).then(n.bind(n,24521));case 2:return m.abrupt("return",(I=m.sent).default.apply(I,E));case 3:case"end":return m.stop()}},L)}));function W(){return B.apply(this,arguments)}return W}()}},"src-water-mark-demo-demo2":{component:a.memo(a.lazy(function(){return Promise.all([n.e(9378),n.e(3849),n.e(1588),n.e(7311),n.e(1715),n.e(9985),n.e(9842),n.e(2433)]).then(n.bind(n,4856))})),asset:{type:"BLOCK",id:"src-water-mark-demo-demo2",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(64301).Z},react:{type:"NPM",value:"18.3.1"},"../index.ts":{type:"FILE",value:n(46099).Z},"../../DemoBlock.tsx":{type:"FILE",value:n(7761).Z},"./water-mark.tsx":{type:"FILE",value:n(60053).Z},classnames:{type:"NPM",value:"2.5.1"},"./index.scss":{type:"FILE",value:n(21791).Z},"./style.scss":{type:"FILE",value:n(25242).Z},"../utils/native-props.ts":{type:"FILE",value:n(12636).Z},"../utils/with-default-props.tsx":{type:"FILE",value:n(62055).Z}},entry:"index.tsx"},context:{"../index.ts":f,"../../DemoBlock.tsx":v,"./water-mark.tsx":p,"./index.scss":O,"./style.scss":M,"../utils/native-props.ts":D,"../utils/with-default-props.tsx":o,react:d||(d=n.t(a,2)),"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/WaterMark/index.ts":f,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.tsx":v,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/WaterMark/water-mark.tsx":p,classnames:_,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/DemoBlock/index.scss":O,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/WaterMark/style.scss":M,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/native-props.ts":D,"/home/runner/work/triones-antd-taro/triones-antd-taro/packages/antd-taro-react/src/utils/with-default-props.tsx":o},renderOpts:{compile:function(){var B=i()(r()().mark(function L(){var I,E=arguments;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,n.e(4521).then(n.bind(n,24521));case 2:return m.abrupt("return",(I=m.sent).default.apply(I,E));case 3:case"end":return m.stop()}},L)}));function W(){return B.apply(this,arguments)}return W}()}}}},37180:function(e,t,n){"use strict";n.r(t),n.d(t,{Button:function(){return x}});var d=n(10154),l=n.n(d),r=n(84176),s=n.n(r),i=n(87695),a=n(44194),c=n(51865),f=n.n(c),u=n(31549),h=["children","block","type","color","danger","disabled","className","style","icon","iconPosition","loading","variant","onClick"],x=function(_){var N=_.children,M=_.block,D=M===void 0?!1:M,o=_.type,v=o===void 0?"default":o,O=_.color,b=_.danger,B=b===void 0?!1:b,W=_.disabled,L=_.className,I=_.style,E=_.icon,k=_.iconPosition,m=k===void 0?"start":k,w=_.loading,T=_.variant,K=_.onClick,S=s()(_,h),C="triones-antm-button",A=O,P=T;return v&&(O||(v==="primary"||v==="link"?A="primary":v==="default"&&(A="default")),T||(v==="primary"?P="solid":v==="default"?P="outlined":(v==="dashed"||v==="link"||v==="text")&&(P=v))),B&&(A="danger"),(0,u.jsxs)("button",{onClick:K,className:f()(C,l()(l()(l()(l()({},"".concat(C,"-block"),D),"".concat(C,"-type-").concat(v),v),"".concat(C,"-color-").concat(A),A),"".concat(C,"-variant-").concat(P),P)),disabled:W,children:[m=="start"&&E,N,m=="end"&&E]})}},93977:function(e,t,n){"use strict";n.r(t);var d=n(37180);t.default=d.Button},49387:function(e,t,n){"use strict";n.r(t),n.d(t,{DemoBlock:function(){return s}});var d=n(44194),l=n(91518),r=n(31549),s=function(a){return(0,r.jsxs)("div",{className:"demoBlock",children:[(0,r.jsx)("div",{className:"demoTitle",children:a.title}),(0,r.jsx)("div",{className:"demoMain",style:{padding:"12px 12px",background:"#ffffff"},children:a.children})]})}},70792:function(e,t,n){"use strict";n.r(t);var d=n(70496);t.default=d.WaterMark},70496:function(e,t,n){"use strict";n.r(t),n.d(t,{WaterMark:function(){return N}});var d=n(10154),l=n.n(d),r=n(45332),s=n.n(r),i=n(51865),a=n.n(i),c=n(44194),f=n(57858),u=n(96858),h=n(38034),x=n(31549),p="triones-antm-water-mark",_={fullPage:!0},N=function(D){var o=(0,u.mergeProps)(_,D),v=o.zIndex,O=o.gapX,b=O===void 0?24:O,B=o.gapY,W=B===void 0?48:B,L=o.width,I=L===void 0?120:L,E=o.height,k=E===void 0?64:E,m=o.rotate,w=m===void 0?-22:m,T=o.image,K=o.imageWidth,S=K===void 0?120:K,C=o.imageHeight,A=C===void 0?64:C,P=o.content,j=o.fontStyle,z=j===void 0?"normal":j,F=o.fontWeight,Z=F===void 0?"normal":F,H=o.fontColor,X=H===void 0?"rgba(0,0,0,.15)":H,Y=o.fontSize,V=Y===void 0?14:Y,G=o.fontFamily,J=G===void 0?"sans-serif":G,an=(0,c.useState)(""),Q=s()(an,2),q=Q[0],nn=Q[1];return(0,c.useEffect)(function(){var R=document.createElement("canvas"),y=window.devicePixelRatio,g=R.getContext("2d"),rn="".concat((b+I)*y,"px"),on="".concat((W+k)*y,"px"),tn=I*y,$=k*y;if(R.setAttribute("width",rn),R.setAttribute("height",on),g){if(T){g.translate(tn/2,$/2),g.rotate(Math.PI/180*Number(w));var U=new Image;U.crossOrigin="anonymous",U.referrerPolicy="no-referrer",U.onload=function(){g.drawImage(U,-S*y/2,-A*y/2,S*y,A*y),g.restore(),nn(R.toDataURL())},U.src=T}else if(P){g.textBaseline="middle",g.textAlign="center",g.translate(tn/2,$/2),g.rotate(Math.PI/180*Number(w));var en=Number(V)*y;g.font="".concat(z," normal ").concat(Z," ").concat(en,"px/").concat($,"px ").concat(J),g.fillStyle=X,Array.isArray(P)?P.forEach(function(sn,dn){return g.fillText(sn,0,dn*en)}):g.fillText(P,0,0),g.restore(),nn(R.toDataURL())}}else throw new Error("Canvas is not supported in the current environment")},[b,W,w,z,Z,I,k,J,X,T,P,V]),(0,f.withNativeProps)(o,(0,x.jsx)("div",{className:a()(p,l()({},"".concat(p,"-full-page"),o.fullPage)),style:{zIndex:v,backgroundSize:"".concat(b+I,"px"),backgroundImage:q===""?void 0:"url('".concat(q,"')")}}))}},57858:function(e,t,n){"use strict";n.r(t),n.d(t,{attachPropertiesToComponent:function(){return c},toCSSLength:function(){return f},withNativeProps:function(){return a}});var d=n(73193),l=n.n(d),r=n(44194),s=n(51865),i=n.n(s);function a(u,h){var x=l()({},h.props);u.className&&(x.className=i()(h.props.className,u.className)),u.style&&(x.style=l()(l()({},x.style),u.style)),u.tabIndex!==void 0&&(x.tabIndex=u.tabIndex);for(var p in u)u.hasOwnProperty(p)&&(p.startsWith("data-")||p.startsWith("aria-"))&&(x[p]=u[p]);return r.cloneElement(h,x)}function c(u,h){var x=u;for(var p in h)h.hasOwnProperty(p)&&(x[p]=h[p]);return x}function f(u){return typeof u=="number"?"".concat(u,"px"):u}},96858:function(e,t,n){"use strict";n.r(t),n.d(t,{mergeProp:function(){return l},mergeProps:function(){return d}});function d(){for(var r={},s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return i.forEach(function(c){c&&Object.keys(c).forEach(function(f){c[f]!==void 0&&(r[f]=c[f])})}),r}function l(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];for(var c=i.length-1;c>=0;c-=1)if(i[c]!==void 0)return i[c];return r}},87695:function(e,t,n){"use strict";n.r(t)},91518:function(e,t,n){"use strict";n.r(t)},8913:function(e,t,n){"use strict";n.r(t)},38034:function(e,t,n){"use strict";n.r(t)},94422:function(e,t,n){"use strict";n.r(t),n.d(t,{texts:function(){return l}});var d=n(63120);const l=[{value:"\u9875\u9762\u4E0A\u6DFB\u52A0\u7279\u5B9A\u7684\u6587\u5B57\u6216\u56FE\u6848\u3002",paraId:0,tocIndex:0},{value:"\u9002\u7528\u4E8E\u9632\u6B62\u4FE1\u606F\u76D7\u7528\u3002",paraId:1,tocIndex:1},{value:"\u53C2\u6570",paraId:2,tocIndex:4},{value:"\u8BF4\u660E",paraId:2,tocIndex:4},{value:"\u7C7B\u578B",paraId:2,tocIndex:4},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:4},{value:"content",paraId:2,tocIndex:4},{value:"\u6C34\u5370\u6587\u5B57\u5185\u5BB9",paraId:2,tocIndex:4},{value:"string | string[]",paraId:2,tocIndex:4},{value:"-",paraId:2,tocIndex:4},{value:"fontColor",paraId:2,tocIndex:4},{value:"\u6C34\u5370\u6587\u5B57\u989C\u8272",paraId:2,tocIndex:4},{value:"string",paraId:2,tocIndex:4},{value:"rgba(0, 0, 0, .15)",paraId:2,tocIndex:4},{value:"fontSize",paraId:2,tocIndex:4},{value:"\u6587\u5B57\u5927\u5C0F",paraId:2,tocIndex:4},{value:"string | number",paraId:2,tocIndex:4},{value:"14",paraId:2,tocIndex:4},{value:"fullPage",paraId:2,tocIndex:4},{value:"\u662F\u5426\u8986\u76D6\u6574\u4E2A\u9875\u9762",paraId:2,tocIndex:4},{value:"boolean",paraId:2,tocIndex:4},{value:"true",paraId:2,tocIndex:4},{value:"gapX",paraId:2,tocIndex:4},{value:"\u6C34\u5370\u4E4B\u95F4\u7684\u6C34\u5E73\u95F4\u8DDD",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"24",paraId:2,tocIndex:4},{value:"gapY",paraId:2,tocIndex:4},{value:"\u6C34\u5370\u4E4B\u95F4\u7684\u5782\u76F4\u95F4\u8DDD",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"48",paraId:2,tocIndex:4},{value:"height",paraId:2,tocIndex:4},{value:"\u6C34\u5370\u7684\u9AD8\u5EA6",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"64",paraId:2,tocIndex:4},{value:"image",paraId:2,tocIndex:4},{value:"\u56FE\u7247\u6E90\uFF0C\u5EFA\u8BAE\u5BFC\u51FA 2 \u500D\u6216 3 \u500D\u56FE\uFF0C\u4F18\u5148\u4F7F\u7528\u56FE\u7247\u6E32\u67D3\u6C34\u5370",paraId:2,tocIndex:4},{value:"string",paraId:2,tocIndex:4},{value:"-",paraId:2,tocIndex:4},{value:"imageHeight",paraId:2,tocIndex:4},{value:"\u56FE\u7247\u9AD8\u5EA6",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"64",paraId:2,tocIndex:4},{value:"imageWidth",paraId:2,tocIndex:4},{value:"\u56FE\u7247\u5BBD\u5EA6",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"120",paraId:2,tocIndex:4},{value:"rotate",paraId:2,tocIndex:4},{value:"\u6C34\u5370\u7ED8\u5236\u65F6\uFF0C\u65CB\u8F6C\u7684\u89D2\u5EA6\uFF0C\u5355\u4F4D \xB0",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"-22",paraId:2,tocIndex:4},{value:"width",paraId:2,tocIndex:4},{value:"\u6C34\u5370\u7684\u5BBD\u5EA6",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"120",paraId:2,tocIndex:4},{value:"zIndex",paraId:2,tocIndex:4},{value:"\u8FFD\u52A0\u7684\u6C34\u5370\u5143\u7D20\u7684 z-index",paraId:2,tocIndex:4},{value:"number",paraId:2,tocIndex:4},{value:"2000",paraId:2,tocIndex:4},{value:"\u5C5E\u6027",paraId:3,tocIndex:5},{value:"\u8BF4\u660E",paraId:3,tocIndex:5},{value:"\u9ED8\u8BA4\u503C",paraId:3,tocIndex:5},{value:"\u5168\u5C40\u53D8\u91CF",paraId:3,tocIndex:5},{value:"--z-index",paraId:3,tocIndex:5},{value:"\u6C34\u5370\u6D6E\u5C42\u7684 ",paraId:3,tocIndex:5},{value:"z-index",paraId:3,tocIndex:5},{value:"2000",paraId:3,tocIndex:5},{value:"--triones-antm-water-mark-z-index",paraId:3,tocIndex:5}]},6458:function(e,t){"use strict";t.Z=`import "./style.scss"
import React, { FC, MouseEventHandler } from "react";
import classNames from "classnames";

export type ButtonProps = {
  children?: React.ReactNode
  /**
   * block \u6309\u94AE\u5BBD\u9AD8\u81EA\u9002\u5E94
   */
  block?: boolean
  /**
   * \u989C\u8272
   */
  color?: 'default' | 'primary' | 'success' | 'warning' | 'danger'
  /**
   * \u662F\u5426\u5371\u9669\u6309\u94AE\uFF0C\u4F1A\u4F7F\u7528 danger \u7684\u989C\u8272
   */
  danger?: boolean
  /**
   * \u662F\u5426\u7981\u7528
   */
  disabled?: boolean
  /**
   * \u5E7D\u7075\u6309\u94AE
   */
  ghost?: boolean
  type?: 'primary' | 'dashed' | 'link' | 'text' | 'default'
  className?: string,
  style?: React.CSSProperties
  icon?: React.ReactNode
  iconPosition?: 'start' | 'end'
  loading?: boolean
  variant?: 'outlined' | 'dashed' | 'solid' | 'filled' | 'text' | 'link',
  onClick?: MouseEventHandler<HTMLButtonElement>
}


export const Button: FC<ButtonProps> = (
  {
    children,
    block = false,
    type = 'default',
    color,
    danger = false,
    disabled,
    className,
    style,
    icon,
    iconPosition = 'start',
    loading,
    variant,
    onClick,
    ...props
  }
) => {
  const clsPrefix = "triones-antm-button"
  let finalColor = color
  let finalVariant = variant
  if (type) {
    if (!color) {
      if (type === 'primary' || type === 'link') {
        finalColor = 'primary'
      } else if (type === 'default') {
        finalColor = 'default'
      }
    }
    if (!variant) {
      if (type === 'primary') {
        finalVariant = 'solid'
      } else if (type === 'default') {
        finalVariant = 'outlined'
      } else if (type === 'dashed' || type === 'link' || type === 'text') {
        finalVariant = type
      }
    }

  }
  if (danger) {
    finalColor = 'danger'
  }
  return <button
    onClick={onClick}
    className={classNames(clsPrefix,
      {
        [\`\${clsPrefix}-block\`]: block,
        [\`\${clsPrefix}-type-\${type}\`]: type,
        [\`\${clsPrefix}-color-\${finalColor}\`]: finalColor,
        [\`\${clsPrefix}-variant-\${finalVariant}\`]: finalVariant,

      })}
    disabled={disabled}>
    {iconPosition == 'start' && icon}
    {children}
    {iconPosition == 'end' && icon}
  </button>
}
`},77306:function(e,t){"use strict";t.Z=`import {Button, ButtonProps} from "./button";

export type {ButtonProps}
export default Button
`},21791:function(e,t){"use strict";t.Z=`.demoBlock {
  font-size: 14px;
  margin-bottom: 12px;
  &:last-of-type {
    padding-bottom: 32px;
  }
  scrollbar-width: thin;
}

.demoTitle {
  padding: 12px 12px 8px;
  color: #697b8c;
  font-size: 14px;
  background: #fafbfc;
}

.demoMain {
  border-right: none;
  border-left: none;
}
`},7761:function(e,t){"use strict";t.Z=`import React from 'react'
import type { FC, ReactNode } from 'react'
import './index.scss'

interface Props {
  title: string
  padding?: string
  background?: string
  children?: ReactNode
}

export const DemoBlock: FC<Props> = props => {
  return (
    <div className='demoBlock'>
      <div className='demoTitle'>{props.title}</div>
      <div
        className='demoMain'
        style={{
          padding: '12px 12px',
          background: '#ffffff',
        }}
      >
        {props.children}
      </div>
    </div>
  )
}
`},91198:function(e,t){"use strict";t.Z=`.water-mark-overlay {
  padding: 12px;
  button {
    margin-bottom: 12px;
  }
}
`},78579:function(e,t){"use strict";t.Z=`import React, { useState } from 'react'


import './demo1.scss'
import Button from "../../Button";
import WaterMark from "../index";

const textProps = {
  content: 'Ant Taro Mobile',
}

const rowsTextProps = {
  content: ['Ant Taro Mobile', 'Ant Taro Mobile Pro'],
}

const imageProps = {
  image:
    'https://gw.alipayobjects.com/zos/bmw-prod/59a18171-ae17-4fc5-93a0-2645f64a3aca.svg',
  imageWidth: 115,
  imageHeight: 36,
  width: 140,
  height: 80,
}

export default () => {
  const [props, setProps] = useState<{ [key: string]: any }>(textProps)

  return (
    <div className='water-mark-overlay'>
      <Button onClick={() => setProps(textProps)}>\u666E\u901A\u6C34\u5370</Button>
      <br />
      <Button onClick={() => setProps(rowsTextProps)}>\u591A\u884C\u6587\u5B57\u6C34\u5370</Button>
      <br />
      <Button onClick={() => setProps(imageProps)}>\u56FE\u7247\u6C34\u5370</Button>
      <WaterMark {...props} />
    </div>
  )
}
`},64301:function(e,t){"use strict";t.Z=`import { DemoBlock } from '../../DemoBlock';
import React from 'react'
import WaterMark from "../index";

export default () => {
  return (
    <DemoBlock title='\u5C40\u90E8\u6C34\u5370'>
      <div
        style={{
          display: 'inline-flex',
          position: 'relative',
        }}
      >
        <img style={{ width: '100%' }} src='https://images.unsplash.com/photo-1529919864908-4c7b46026144?ixid=MnwxMjA3fDB8MHxwcm9maWxlLXBhZ2V8NTN8fHxlbnwwfHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=60' />
        <WaterMark
          content={'Ant Design Mobile'}
          gapX={12}
          gapY={24}
          fullPage={false}
        />
      </div>
      <div style={{ color: '#ccc', marginTop: 10 }}>\u628A WaterMark \u653E\u5230\u4E00\u4E2A relative \u5B9A\u4F4D\u7684\u7236\u5143\u7D20\uFF0C\u5B83\u4F1A\u81EA\u52A8\u6491\u6EE1\u8FD9\u4E2A\u7236\u5143\u7D20\u7684\u8303\u56F4\u3002</div>
    </DemoBlock>
  )
}
`},46099:function(e,t){"use strict";t.Z=`import { WaterMark } from './water-mark'

export type { WaterMarkProps } from './water-mark'

export default WaterMark
`},25242:function(e,t){"use strict";t.Z=`$class-prefix-water-mark: 'triones-antm-water-mark';

.#{$class-prefix-water-mark} {
  --z-index: var(--triones-antm-water-mark-z-index, 2000);

  position: absolute;
  z-index: var(--z-index);
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  pointer-events: none;
  background-repeat: repeat;
  &-full-page {
    position: fixed;
  }
}
`},60053:function(e,t){"use strict";t.Z=`import classNames from 'classnames'
import React, { useEffect, useState } from 'react'
import type { FC } from 'react'
import { NativeProps, withNativeProps } from '../utils/native-props'
import { mergeProps } from '../utils/with-default-props'

import './style.scss'

const classPrefix = \`triones-antm-water-mark\`

export type WaterMarkProps = {
  gapX?: number
  gapY?: number
  zIndex?: number
  width?: number
  height?: number
  rotate?: number
  image?: string
  imageWidth?: number
  imageHeight?: number
  content?: string | string[]
  fontColor?: string
  fontStyle?: 'none' | 'normal' | 'italic' | 'oblique'
  fontFamily?: string
  fontWeight?: 'normal' | 'light' | 'weight' | number
  fontSize?: number | string
  fullPage?: boolean
} & NativeProps<'--z-index'>

const defaultProps = {
  fullPage: true,
}

export const WaterMark: FC<WaterMarkProps> = p => {
  const props = mergeProps(defaultProps, p)
  const {
    zIndex,
    gapX = 24,
    gapY = 48,
    width = 120,
    height = 64,
    rotate = -22,
    image,
    imageWidth = 120,
    imageHeight = 64,
    content,
    fontStyle = 'normal',
    fontWeight = 'normal',
    fontColor = 'rgba(0,0,0,.15)',
    fontSize = 14,
    fontFamily = 'sans-serif',
  } = props

  const [base64Url, setBase64Url] = useState('')

  useEffect(() => {
    const canvas = document.createElement('canvas')
    const ratio = window.devicePixelRatio
    const ctx = canvas.getContext('2d')

    const canvasWidth = \`\${(gapX + width) * ratio}px\`
    const canvasHeight = \`\${(gapY + height) * ratio}px\`

    const markWidth = width * ratio
    const markHeight = height * ratio

    canvas.setAttribute('width', canvasWidth)
    canvas.setAttribute('height', canvasHeight)

    if (ctx) {
      if (image) {
        ctx.translate(markWidth / 2, markHeight / 2)
        ctx.rotate((Math.PI / 180) * Number(rotate))

        const img = new Image()
        img.crossOrigin = 'anonymous'
        img.referrerPolicy = 'no-referrer'
        img.onload = () => {
          ctx.drawImage(
            img,
            (-imageWidth * ratio) / 2,
            (-imageHeight * ratio) / 2,
            imageWidth * ratio,
            imageHeight * ratio
          )
          ctx.restore()
          setBase64Url(canvas.toDataURL())
        }
        img.src = image
      } else if (content) {
        ctx.textBaseline = 'middle'
        ctx.textAlign = 'center'
        // \u6587\u5B57\u7ED5\u4E2D\u95F4\u65CB\u8F6C
        ctx.translate(markWidth / 2, markHeight / 2)
        ctx.rotate((Math.PI / 180) * Number(rotate))

        const markSize = Number(fontSize) * ratio
        ctx.font = \`\${fontStyle} normal \${fontWeight} \${markSize}px/\${markHeight}px \${fontFamily}\`
        ctx.fillStyle = fontColor
        if (Array.isArray(content)) {
          content.forEach((item: string, index: number) =>
            ctx.fillText(item, 0, index * markSize)
          )
        } else {
          ctx.fillText(content, 0, 0)
        }
        ctx.restore()
        setBase64Url(canvas.toDataURL())
      }
    } else {
      throw new Error('Canvas is not supported in the current environment')
    }
  }, [
    gapX,
    gapY,
    rotate,
    fontStyle,
    fontWeight,
    width,
    height,
    fontFamily,
    fontColor,
    image,
    content,
    fontSize,
  ])

  return withNativeProps(
    props,
    <div
      className={classNames(classPrefix, {
        [\`\${classPrefix}-full-page\`]: props.fullPage,
      })}
      style={{
        zIndex,
        backgroundSize: \`\${gapX + width}px\`,

        // Not give \`url\` if its empty. Which will cause 404 error.
        backgroundImage: base64Url === '' ? undefined : \`url('\${base64Url}')\`,
      }}
    />
  )
}
`},12636:function(e,t){"use strict";t.Z=`import React, { AriaAttributes } from 'react'
import type { CSSProperties, ReactElement } from 'react'
import classNames from 'classnames'

export type NativeProps<S extends string = never> = {
  className?: string
  style?: CSSProperties & Partial<Record<S, string>>
  tabIndex?: number
} & AriaAttributes

export function withNativeProps<P extends NativeProps>(
  props: P,
  element: ReactElement
) {
  const p = {
    ...element.props,
  }
  if (props.className) {
    p.className = classNames(element.props.className, props.className)
  }
  if (props.style) {
    p.style = {
      ...p.style,
      ...props.style,
    }
  }
  if (props.tabIndex !== undefined) {
    p.tabIndex = props.tabIndex
  }
  for (const key in props) {
    if (!props.hasOwnProperty(key)) continue
    if (key.startsWith('data-') || key.startsWith('aria-')) {
      p[key] = props[key]
    }
  }
  return React.cloneElement(element, p)
}

export function attachPropertiesToComponent<C, P extends Record<string, any>>(
  component: C,
  properties: P
): C & P {
  const ret = component as any
  for (const key in properties) {
    if (properties.hasOwnProperty(key)) {
      ret[key] = properties[key]
    }
  }
  return ret
}


export function toCSSLength(val: string | number) {
  return typeof val === 'number' ? \`\${val}px\` : val
}
`},62055:function(e,t){"use strict";t.Z=`export function mergeProps<A, B>(a: A, b: B): B & A;
export function mergeProps<A, B, C>(a: A, b: B, c: C): C & B & A;
export function mergeProps<A, B, C, D>(a: A, b: B, c: C, d: D): D & C & B & A;
export function mergeProps(...items: any[]) {
  const ret: any = {};
  items.forEach((item) => {
    if (item) {
      Object.keys(item).forEach((key) => {
        if (item[key] !== undefined) {
          ret[key] = item[key];
        }
      });
    }
  });
  return ret;
}

/**
 * Merge props and return the first non-undefined value.
 * The later has higher priority. e.g. (10, 1, 5) => 5 wins.
 * This is useful with legacy props that have been deprecated.
 */
export function mergeProp<T, DefaultT extends T = T>(
  defaultProp: DefaultT,
  ...propList: T[]
): T | undefined {
  for (let i = propList.length - 1; i >= 0; i -= 1) {
    if (propList[i] !== undefined) {
      return propList[i];
    }
  }
  return defaultProp;
}
`},84176:function(e,t,n){var d=n(75863);function l(r,s){if(r==null)return{};var i=d(r,s),a,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);for(c=0;c<f.length;c++)a=f[c],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(i[a]=r[a])}return i}e.exports=l,e.exports.__esModule=!0,e.exports.default=e.exports},75863:function(e){function t(n,d){if(n==null)return{};var l={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(d.indexOf(s)>=0)&&(l[s]=n[s]);return l}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
