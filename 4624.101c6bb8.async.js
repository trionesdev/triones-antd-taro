"use strict";(self.webpackChunk_trionesdev_antd_taro_react=self.webpackChunk_trionesdev_antd_taro_react||[]).push([[4624],{3957:function(S,a,n){n.r(a),n.d(a,{CascaderColumnItem:function(){return r}});var E=n(10154),u=n.n(E),m=n(44194),y=n(51865),d=n.n(y),T=n(65694),f=n(31549),i="triones-antm-cascader-view",r=function(A){var b=A.option,D=A.onClick,h=A.selected;return(0,f.jsxs)("div",{className:d()("".concat(i,"-column-item"),u()({},"".concat(i,"-column-item-selected"),h)),onClick:function(){D==null||D(b)},children:[(0,f.jsx)("div",{children:b.label}),h&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(T.CheckOutline,{})})]})}},85239:function(S,a,n){n.r(a),n.d(a,{CascaderColumn:function(){return f}});var E=n(44194),u=n(3957),m=n(51865),y=n.n(m),d=n(31549),T="triones-antm-cascader-view",f=function(r){var R=r.index,A=R===void 0?0:R,b=r.options,D=r.value,h=r.labelInValue,e=h===void 0?!1:h,P=r.onSelect,p=function(B){P==null||P(B,A)};return(0,d.jsx)("div",{className:y()("".concat(T,"-column")),children:b.map(function(V,B){return(0,d.jsx)(u.CascaderColumnItem,{option:V,selected:(D==null?void 0:D.value)==V.value,onClick:function(){p(V)}},B)})})}},91499:function(S,a,n){n.r(a),n.d(a,{CascaderView:function(){return V}});var E=n(90819),u=n.n(E),m=n(76711),y=n.n(m),d=n(89933),T=n.n(d),f=n(45332),i=n.n(f),r=n(44194),R=n(51865),A=n.n(R),b=n(85260),D=n(85239),h=n(39378),e=n.n(h),P=n(31549),p="triones-antm-cascader-view",V=function(C){var $=C.className,F=C.style,H=C.options,tn=C.labelInValue,N=tn===void 0?!1:tn,x=C.value,J=C.onChange,L=C.asyncRequest,v=(0,r.useState)(),Q=i()(v,2),k=Q[0],X=Q[1],on=(0,r.useState)([]),w=i()(on,2),_=w[0],U=w[1],rn=(0,r.useState)([]),q=i()(rn,2),c=q[0],ln=q[1],un=(0,r.useState)(x||[]),Y=i()(un,2),z=Y[0],nn=Y[1],t=function(l){return l.map(function(o){if(N)return o.value;var O;return(O=o.value)===null||O===void 0?void 0:O.value})},s=function(l,o){var O;if(!e().isEqual(l==null?void 0:l.value,(O=_[o])===null||O===void 0||(O=O.value)===null||O===void 0?void 0:O.value)){var W=[];Array.from({length:o+1},function(j,en){return en}).forEach(function(j){j==o?W.push({value:l,options:_[j].options}):W.push(_[j])}),e().isEmpty(l.children)?L==null||L().then(function(j){e().isArray(j)&&!e().isEmpty(j)&&(e().set(l,["children"],j),W.push({options:l.children}),X("".concat(o+1)))}):(W.push({options:l.children}),X("".concat(o+1))),U(W);var sn=t(W);nn(sn),J==null||J(sn)}};(0,r.useEffect)(function(){if(H&&!e().isEmpty(H)){var M={value:null,options:H};U([M])}else L==null||L().then(function(l){if(e().isArray(l)&&!e().isEmpty(l)){var o={value:null,options:l};U([o])}})},[H]);var I=function(){var M=T()(u()().mark(function l(){var o;return u()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return o=y()(_),e().forEach(z,function(){var sn=T()(u()().mark(function j(en,Z){var an,K;return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(Z<=e().size(o)-1)){g.next=11;break}if(an=N?en:e().find(o[Z].options,function(G){return G.value===en}),o[Z].value=an,K=e().find(o[Z].options,function(G){return G.value===(an==null?void 0:an.value)}),!K){g.next=11;break}if(e().isEmpty(K==null?void 0:K.children)){g.next=9;break}e().set(o,[Z+1,"options"],K==null?void 0:K.children),g.next=11;break;case 9:return g.next=11,L==null?void 0:L(K).then(function(G){e().isArray(G)&&!e().isEmpty(G)&&(e().set(K,["children"],G),e().set(o,[Z+1,"options"],K==null?void 0:K.children))});case 11:case"end":return g.stop()}},j)}));return function(j,en){return sn.apply(this,arguments)}}()),W.abrupt("return",o);case 3:case"end":return W.stop()}},l)}));return function(){return M.apply(this,arguments)}}();return(0,r.useEffect)(function(){if(z!=null&&!e().isEmpty(_)){var M=t(_);e().isEqual(M,z)||e().isEmpty(_)||I().then(function(l){e().isEqual(t(l),t(_))||U(y()(l)),X("".concat(e().size(l)-1))})}},[z,_]),(0,r.useEffect)(function(){x!=null&&(e().isEqual(x,z)||nn(x))},[x]),(0,r.useEffect)(function(){if(!e().isEmpty(_)){var M=_.map(function(l,o){var O;return{key:"".concat(o),label:((O=l.value)===null||O===void 0?void 0:O.label)||"\u8BF7\u9009\u62E9",children:(0,P.jsx)(D.CascaderColumn,{index:o,labelInValue:N,options:l.options,value:l.value,onSelect:s})}});ln(M)}},[_]),(0,P.jsx)("div",{className:A()(p,$),style:F,children:(0,P.jsx)(b.default,{activeKey:k,onChange:X,items:c,stretch:!1,style:{height:"100%"}})})}},94624:function(S,a,n){n.r(a);var E=n(91499);a.default=E.CascaderView},85998:function(S,a,n){n.r(a),n.d(a,{TabsContext:function(){return u}});var E=n(44194),u=(0,E.createContext)({items:[]})},85260:function(S,a,n){n.r(a);var E=n(20292),u=n(9660),m=E.Tabs;m.Tab=u.Tab,a.default=m},7016:function(S,a,n){n.r(a),n.d(a,{TabNav:function(){return i}});var E=n(10154),u=n.n(E),m=n(44194),y=n(51865),d=n.n(y),T=n(31549),f="triones-antm-tabs",i=function(R){var A=R.label,b=R.active,D=R.stretch,h=R.onClick,e=(0,m.useRef)(null),P=(0,m.useRef)(null);return(0,T.jsx)("div",{ref:e,className:d()("".concat(f,"-tab"),u()(u()({},"".concat(f,"-tab-active"),b),"".concat(f,"-tab-stretch"),D)),onClick:function(V){h==null||h(V)},children:(0,T.jsx)("div",{ref:P,className:d()("".concat(f,"-tab-inner")),children:A})})}},42020:function(S,a,n){n.r(a),n.d(a,{TabPane:function(){return r}});var E=n(10154),u=n.n(E),m=n(51865),y=n.n(m),d=n(44194),T=n(85998),f=n(31549),i="triones-antm-tabs",r=function(A){var b=A.children,D=A.tabKey,h=(0,d.useContext)(T.TabsContext),e=h.activeKey;return(0,f.jsx)("div",{className:y()("".concat(i,"-tab-pane"),u()({},"".concat(i,"-tab-pane-active"),e==D)),children:b})}},9660:function(S,a,n){n.r(a),n.d(a,{Tab:function(){return E}});var E=function(m){var y=m.children,d=m.key,T=m.label;return null}},20292:function(S,a,n){n.r(a),n.d(a,{Tabs:function(){return V}});var E=n(76711),u=n.n(E),m=n(45332),y=n.n(m),d=n(44194),T=n(9660),f=n(51865),i=n.n(f),r=n(85998),R=n(16819),A=n(7016),b=n(42020),D=n(39378),h=n.n(D),e=n(31549),P="triones-antm-tabs",p=function(B){return B[B.SET_ITEMS=0]="SET_ITEMS",B[B.ADD_ITEM=1]="ADD_ITEM",B}(p||{}),V=function(C){var $,F=C.children,H=C.className,tn=C.style,N=C.activeKey,x=C.defaultActiveKey,J=C.stretch,L=J===void 0?!0:J,v=C.items,Q=C.onTabClick,k=C.onChange,X=(0,d.useRef)(null),on=(0,d.useState)(N||x||(v==null||($=v[0])===null||$===void 0?void 0:$.key)),w=y()(on,2),_=w[0],U=w[1],rn=(0,d.useReducer)(function(t,s){switch(s.type){case p.SET_ITEMS:return s.payload;case p.ADD_ITEM:return[].concat(u()(t),[s.payload])}return t},v||[]),q=y()(rn,2),c=q[0],ln=q[1],un=function(s,I){Q==null||Q(s,I),U(s)},Y=function(s){ln({type:p.SET_ITEMS,payload:s})},z=function(s){ln({type:p.ADD_ITEM,payload:s})},nn=function(s){k==null||k(s)};return(0,d.useEffect)(function(){N!=null&&N!=_&&U(N)},[N]),(0,d.useEffect)(function(){v!=null&&(h().isEqual(v,c)||Y(v))},[v]),(0,d.useEffect)(function(){if(_){if(!(c!=null&&c.map(function(l){return l.key}).includes(_))){var t,s;U(v==null||(t=v[0])===null||t===void 0?void 0:t.key),nn(c==null||(s=c[0])===null||s===void 0?void 0:s.key)}}else{var I,M;U(v==null||(I=v[0])===null||I===void 0?void 0:I.key),nn(v==null||(M=v[0])===null||M===void 0?void 0:M.key)}},[_,c]),(0,d.useEffect)(function(){if(F&&h().isArray(F)){var t,s=F.filter(function(I){return I.type==T.Tab}).map(function(I){return{key:I.key,label:I.props.label,children:I.props.children}});Y(s),U(N||x||(s==null||(t=s[0])===null||t===void 0?void 0:t.key))}},[F]),(0,e.jsx)(r.TabsContext.Provider,{value:{activeKey:_,setActiveKey:U,items:c||[],setItems:Y,addItem:z},children:(0,e.jsxs)("div",{className:i()(P,H),style:tn,children:[(0,e.jsx)("div",{className:i()("".concat(P,"-nav")),children:(0,e.jsx)("div",{className:i()("".concat(P,"-nav-wrap")),children:(0,e.jsx)("div",{ref:X,className:i()("".concat(P,"-nav-list")),children:!h().isEmpty(c)&&(c==null?void 0:c.map(function(t,s){return(0,e.jsx)(A.TabNav,{active:_==t.key,stretch:L,label:t.label,onClick:function(M){un(t.key,M)}},s)}))})})}),(0,e.jsx)("div",{className:i()("".concat(P,"-content-holder")),children:(0,e.jsx)("div",{className:i()("".concat(P,"-content")),children:!h().isEmpty(c)&&(c==null?void 0:c.map(function(t,s){return(0,e.jsx)(b.TabPane,{tabKey:t.key,children:t.children},t.key)}))})})]})})}},16819:function(S,a,n){n.r(a)}}]);
